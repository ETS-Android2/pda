(this["webpackJsonppda-client"]=this["webpackJsonppda-client"]||[]).push([[0],{312:function(e,a,t){e.exports=t(640)},511:function(e,a,t){},640:function(e,a,t){"use strict";t.r(a);var n=t(4),r=t.n(n),c=t(8),o=(t(314),t(323),t(196)),l=t(305),s=t(0),m=t.n(s);function i(e){var a="?timestamp="+(new Date).getTime();for(var t in e){var n=e[t];if(Array.isArray(n))for(var r=0,c=n.length;r<c;r++)a+="&"+t+"="+(null===n[r]?"":encodeURIComponent(n[r]));else a+="&"+t+"="+(null===n?"":encodeURIComponent(n))}return a}function u(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))}function f(e,a){var t=Object(s.useRef)();Object(s.useEffect)((function(){t.current=e}),[e]),Object(s.useEffect)((function(){if(null!==a){var e=setInterval((function(){t.current()}),a);return function(){return clearInterval(e)}}}),[a])}var d=t(113),p="http://192.168.1.2:9070/";o.a.use(l.a).use(d.e).init({lng:"pt",fallbackLng:"pt",whitelist:["pt","de","en","es","fr"],debug:!1,react:{},backend:{loadPath:p+"JSON/i18n/{{lng}}.json"+i({}),crossDomain:!0}});o.a;var E=t(89),b=t.n(E),h=t(5),v=(t(306),t(511),t(42)),N=t(43),x=t(7),y=t.n(x),k=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"httpError",value:function(e){fetch(p+"Log/Http/Errors"+i({appName:"pda"}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e.status,statusText:e.statusText,url:e.url})}).then((function(){})).catch((function(){}))}},{key:"promiseError",value:function(e){fetch(p+"Log/Promise/Errors"+i({appName:"pda"}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.message,stack:e.stack,request:e.request?{method:e.request.method,path:e.request.path}:null,response:e.response?{status:e.response.status}:null})}).then((function(){})).catch((function(){}))}}]),e}(),O=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"addAuthorizationHeader",value:function(e){var a=window.localStorage.getItem("access_noken");return a&&(e.headers||(e.headers={}),e.headers.Authorization="noken "+a),e}}]),e}(),g=t(54),j=t.n(g);t(512),t(513),t(514),t(515);function w(e){switch(e){case"POR":j.a.locale("pt");break;case"DEU":j.a.locale("de");break;case"ENG":j.a.locale("en");break;case"ESP":j.a.locale("es");break;case"FRA":j.a.locale("fr")}}window.moment=j.a;var _=t(36),C=t.n(_);t(516),t(517),t(518),t(519);function S(e){return e?e.toString().replace(new RegExp("\\"+C.a.localeData().delimiters.thousands,"g"),"").replace(new RegExp("\\"+C.a.localeData().delimiters.decimal,"g"),"."):e}function D(){return(D=Object(c.a)(r.a.mark((function e(a,t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.current.selectionStart,c=t.current.value,110===a.keyCode&&(a.preventDefault(),t.current.value=c.substr(0,n)+C.a.localeData().delimiters.decimal+c.substr(n,c.length-1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){switch(e){case"POR":C.a.locale("pt-pt");break;case"DEU":C.a.locale("de");break;case"ENG":C.a.locale("en");break;case"ESP":C.a.locale("es-es");break;case"FRA":C.a.locale("fr")}}function T(e,a,t){return A.apply(this,arguments)}function A(){return(A=Object(c.a)(r.a.mark((function e(a,t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"Platform/Android"+i({}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.ok||n.status!==y.a.OK){e.next=5;break}return e.next=3,n.json().then(function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&(w(a.Language.Code),P(a.Language.Code)),t.setAndroidApp(n),t.setAuthUser(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw n;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(n("key_303"))):(k.promiseError(e),alert(n("key_416")))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.numeral=C.a;var I,B=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"signIn",value:function(e,a){return fetch(p+"Authentication/SignIn"+i({}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})})}},{key:"autoSignIn",value:function(){var e=Object(c.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"Authentication/AutoSignIn"+i({}),{method:"GET"}).then(function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.ok||n.status!==y.a.OK){e.next=5;break}return e.next=3,n.json().then(function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.setItem("access_noken",n.Token),e.next=3,T(n.AuthUser,a,t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw n;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(t("key_306"))):(k.promiseError(e),alert(t("key_416")))}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){return fetch(p+"Authentication/SignOut"+i({}),O.addAuthorizationHeader({method:"GET"}))}}]),e}(),L=t(75),F=t(6),V=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"error",value:function(){new Audio("http://www.famo-code.com/FAMO.Rep/PDA/Sound/error.mp3").play()}}]),e}(),R=t(647);!function(e){e[e.Text=1]="Text",e[e.Number=2]="Number",e[e.Checkbox=3]="Checkbox",e[e.Radio=4]="Radio",e[e.Select=100]="Select"}(I||(I={}));var z=m.a.forwardRef((function(e,a){var t=Object(R.a)().t,n=e.type,r=e.className,c=e.name,o=e.value,l=e.autoFocus,i=e.isDisabled,u=e.analyze,f=e.noData,d=e.wrongFormat,p=e.invalidValue,E=e.invalidMessage,b=e.set,v=e.children,N=Object(s.useState)({noData:!1,wrongFormat:!1,invalidValue:!1}),x=Object(h.a)(N,2),y=x[0],k=x[1];return Object(s.useEffect)((function(){if(u){var e=o;b((function(e){return Object(F.a)(Object(F.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!1})})),e?n===I.Number&&e&&(e=S(e),isNaN(e)?b((function(e){return Object(F.a)(Object(F.a)({},e),{},{noData:!1,wrongFormat:!0,invalidValue:!1})})):parseFloat(e)<=0&&b((function(e){return Object(F.a)(Object(F.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!0})}))):b((function(e){return Object(F.a)(Object(F.a)({},e),{},{noData:!0,wrongFormat:!1,invalidValue:!1})})),b((function(e){return Object(F.a)(Object(F.a)({},e),{},{localAnalyze:!0})}))}}),[u]),Object(s.useEffect)((function(){k({noData:f,wrongFormat:d,invalidValue:p})}),[f,d,p]),m.a.createElement(m.a.Fragment,null,(n===I.Text||n===I.Number)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("input",{ref:a,type:"text",className:r+(y.noData?" famo-input-error":y.wrongFormat||y.invalidValue?" famo-input-warning":""),name:c,value:o,autoFocus:l,disabled:i,onKeyDown:function(e){n===I.Number&&function(e,a){D.apply(this,arguments)}(e,a)},onChange:function(e){return b((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:a.current.value})}))}}),!i&&m.a.createElement("div",{className:"famo-input-message "+(y.wrongFormat?"":"hide")},m.a.createElement("span",{className:"famo-text-15"},t("key_808"))),E&&!i&&m.a.createElement("div",{className:"famo-input-message "+(y.invalidValue?"":"hide")},m.a.createElement("span",{className:"famo-text-15"},E))),n===I.Checkbox&&m.a.createElement("label",null,m.a.createElement("input",{ref:a,type:"checkbox",className:r,name:c,checked:o,disabled:i,onChange:function(e){return b((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:a.current.checked})}))}}),m.a.createElement("span",{className:"famo-checkbox"})),n===I.Select&&m.a.createElement("select",{ref:a,className:r+(y.noData?" famo-input-error":""),name:c,value:o,disabled:i,onChange:function(e){return b((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:a.current.value})}))}},v))})),H=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"analyze",value:function(e,a){e.forEach((function(e,t){e.type!==I.Text&&e.type!==I.Number&&e.type!==I.Select||e.isDisabled||a[t]((function(e){return Object(F.a)(Object(F.a)({},e),{},{analyze:!0})}))}))}},{key:"areAnalyzed",value:function(e){return!e.filter((function(e){return!e.isDisabled})).some((function(e){return!e.localAnalyze}))}},{key:"areValid",value:function(e){return!e.filter((function(e){return!e.isDisabled})).some((function(e){return e.noData||e.wrongFormat||e.invalidValue}))}},{key:"popUpAlerts",value:function(e,a){e.some((function(e){return e.noData}))&&U.noData(a),e.some((function(e){return e.wrongFormat}))&&U.wrongFormat(e.filter((function(e){return e.wrongFormat})).map((function(e){return e.label})),a),e.some((function(e){return e.invalidValue}))&&U.invalidValue(e.filter((function(e){return e.invalidValue})).map((function(e){return e.label})),a)}},{key:"resetValidations",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(F.a)(Object(F.a)({},e),{},{analyze:!1,localAnalyze:!1})}))}))}},{key:"resetValues",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:"",noData:!1,wrongFormat:!1,invalidValue:!1,analyze:!1,localAnalyze:!1})}))}))}}]),e}(),U=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"invalidValue",value:function(e,a){for(var t=a("key_192")+" ",n=0,r=e.length;n<r;n++)t+=e[n],n<r-2?t+=", ":n===r-2&&(t+=" "+a("key_573")+" ");alert(t)}},{key:"noData",value:function(e){alert(e("key_197"))}},{key:"wrongFormat",value:function(e,a){for(var t=a("key_191")+" ",n=0,r=e.length;n<r;n++)t+=e[n],n<r-2?t+=", ":n===r-2&&(t+=" "+a("key_573")+" ");alert(t)}}]),e}(),G=z,K=m.a.forwardRef((function(e,a){var t=e.visible,n=e.setVisible,r=e.visibleCallback,c=e.children,o=Object(R.a)().t,l=Object(s.useState)(t),i=Object(h.a)(l,2),u=i[0],f=i[1];return Object(s.useEffect)((function(){f(t)}),[t]),Object(s.useEffect)((function(){r&&r(u)}),[u]),m.a.createElement("section",{className:"w3-modal famo-modal "+(u?"w3-show":""),onClick:function(e){return n(!1)}},m.a.createElement("div",{className:"w3-modal-content famo-modal-content",onClick:function(e){return e.stopPropagation()}},c),m.a.createElement("div",{className:"famo-buttons"},m.a.createElement("button",{type:"button",className:"famo-button famo-icon-button",title:o("key_200"),onClick:function(e){return function(e){e.stopPropagation(),n(!1)}(e)}},m.a.createElement("span",{className:"fas fa-times"}))))})),W=t(87),M=t.n(W);var q=function(e){var a=e.text,t=Object(s.useState)(!1),n=Object(h.a)(t,2),r=n[0],c=n[1];return m.a.createElement("div",{className:"famo-title "+(r?"collapsed":"")},m.a.createElement("span",{className:"famo-text-13",onClick:function(e){c(!r)}},a))};function J(e){var a=e.hide;return m.a.createElement("div",{className:"pda-app-loader "+(a?"hide":"")},m.a.createElement("div",{className:"famo-loader"}))}function Y(e){var a=e.hide;return m.a.createElement("div",{className:"famo-loader-wrapper "+(a?"hide":"")},m.a.createElement("div",{className:"famo-loader"}))}var Q=t(23),X=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"clear",value:function(e){e?e.pallet||window.sessionStorage.removeItem("SS_PALLET"):window.sessionStorage.clear()}}]),e}(),Z=t(304),$={setAndroidApp:function(e,a){e.setState(Object(F.a)(Object(F.a)({},e.state),{},{androidApp:a}))},setAuthUser:function(e,a){e.setState(Object(F.a)(Object(F.a)({},e.state),{},{authUser:a}))},setLoadPage:function(e,a){e.setState(Object(F.a)(Object(F.a)({},e.state),{},{loadPage:a}))}},ee=Object(Z.a)(m.a,{androidApp:!1,authUser:null,loadPage:!1},$);function ae(e){var a=e.history,t=Object(R.a)().t,n=ee(),o=Object(h.a)(n,2),l=o[0],u=o[1],f=window.numeral,d=Object(s.useState)(!1),E=Object(h.a)(d,2),b=E[0],v=E[1],N=[t("key_87"),t("key_138"),t("key_900"),t("key_896"),""],x=Object(s.useState)([]),g=Object(h.a)(x,2),j=g[0],w=g[1],_=Object(s.useState)([]),C=Object(h.a)(_,2),S=C[0],D=C[1],P=Object(s.useState)(null),T=Object(h.a)(P,2),A=T[0],B=T[1],L=Object(s.useState)(!1),V=Object(h.a)(L,2),z=V[0],U=V[1],W=Object(s.useState)(!1),M=Object(h.a)(W,2),J=M[0],Q=M[1],Z=Object(s.useState)({ref:m.a.createRef(),type:I.Select,label:t("key_896"),className:"famo-input famo-text-10",name:"gateID",value:""}),$=Object(h.a)(Z,2),ae=$[0],te=$[1],ne=[ae],re=[te];function ce(){return fetch(p+"ERP/Shipments"+i({languageCode:l.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){w(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(t("key_303"))):(k.promiseError(e),alert(t("key_416")))}))}function oe(){H.analyze(ne,re)}return Object(s.useEffect)((function(){u.setLoadPage(!0);var e=fetch(p+"Shipments/Gates"+i({languageCode:l.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){D(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(t("key_303"))):(k.promiseError(e),alert(t("key_416")))}));Promise.all([ce(),e]).finally((function(){u.setLoadPage(!1)})),X.clear()}),[]),Object(s.useEffect)((function(){H.areAnalyzed(ne)&&(H.areValid(ne)?(v(!0),fetch(p+"Shipments"+i({}),O.addAuthorizationHeader({method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:A,gateID:ae.value})})).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==y.a.OK){e.next=9;break}return e.next=3,ce();case 3:U(!1),B(null),v(!1),z&&a.push("/Expedition/Edit?shipmentCode="+A),e.next=10;break;case 9:throw t;case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(t("key_302"))):(k.promiseError(e),alert(t("key_416"))),U(!1),B(null),v(!1)})),Q(!1)):H.popUpAlerts(ne,t),H.resetValidations(ne,re))}),ne),Object(s.useEffect)((function(){J||te((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:""})}))}),[J]),m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:t("key_878")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!b}),m.a.createElement("div",{className:"famo-grid famo-content-grid shipments "+(b?"hide":"")},m.a.createElement("div",{className:"famo-row famo-header-row"},N.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},m.a.createElement("span",{className:"famo-text-11"},e))}))),j.map((function(e,n){return m.a.createElement("div",{key:n,className:"famo-row famo-body-row",onClick:function(t){var n;-1===(n=e).Gate.ID?(U(!0),B(n.Code),Q(!0)):a.push("/Expedition/Edit?shipmentCode="+n.Code)}},m.a.createElement("div",{className:"famo-cell famo-col-1"},m.a.createElement("span",{className:"famo-text-10"},e.Code)),m.a.createElement("div",{className:"famo-cell famo-col-2"},m.a.createElement("span",{className:"famo-text-10 "+(e.Description?"":"famo-color-yellow")},e.Description?e.Description:t("key_237"))),m.a.createElement("div",{className:"famo-cell famo-col-3"},m.a.createElement("span",{className:"famo-text-10"},f(e.PickedBoxes).format("0,0")+"/"+f(e.TotalBoxes).format("0,0"))),m.a.createElement("div",{className:"famo-cell famo-col-4"},m.a.createElement("span",{className:"famo-text-10 "+(-1===e.Gate.ID?"famo-color-yellow":"")},-1===e.Gate.ID?"n/a":e.Gate.Label)),m.a.createElement("div",{className:"famo-cell famo-col-5"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:function(a){return function(e,a){e.stopPropagation(),U(!1),B(a.Code),te((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:a.Gate.ID})})),Q(!0)}(a,e)}},m.a.createElement("span",{className:"fas fa-truck-loading"}))))}))))),m.a.createElement(K,{visible:J,setVisible:Q,visibleCallback:function(e){e||H.resetValues(ne,re)}},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),oe()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},ae.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},ae,{set:te}),m.a.createElement("option",{key:-1,value:""}),S.map((function(e,a){return m.a.createElement("option",{key:a,value:e.ID},e.Label)}))))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return oe()}},m.a.createElement("span",{className:"famo-text-12"},t("key_701"))),m.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return Q(!1)}},m.a.createElement("span",{className:"famo-text-12"},t("key_484"))))))))))}function te(e){var a=e.history,t=e.location,n=Object(R.a)().t,o=ee(),l=Object(h.a)(o,2),u=l[0],f=l[1],d=window.numeral,E=M.a.parse(t.search).shipmentCode,b=Object(s.useState)({type:I.Text,label:n("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:E.toString(),isDisabled:!0}),v=Object(h.a)(b,2),N=v[0],x=v[1],g=Object(s.useState)({type:I.Text,label:n("key_138"),className:"famo-input famo-text-10",name:"boxCode",value:"",isDisabled:!0}),j=Object(h.a)(g,2),w=j[0],_=j[1],C=Object(s.useState)({ref:m.a.createRef(),type:I.Text,label:n("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),S=Object(h.a)(C,2),D=S[0],P=S[1],T=Object(s.useState)({ref:m.a.createRef(),type:I.Checkbox,label:n("key_901"),className:"famo-input",name:"unload",value:!1}),A=Object(h.a)(T,2),B=A[0],z=A[1],H=Object(s.useState)(!1),U=Object(h.a)(H,2),W=U[0],J=U[1],Z=Object(s.useState)(""),$=Object(h.a)(Z,2),ae=$[0],te=$[1],ne=[n("key_179"),n("key_54"),n("key_900")],re=Object(s.useState)([]),ce=Object(h.a)(re,2),oe=ce[0],le=ce[1],se=[n("key_820"),""],me=Object(s.useState)([]),ie=Object(h.a)(me,2),ue=ie[0],fe=ie[1],de=Object(s.useState)(!1),pe=Object(h.a)(de,2),Ee=pe[0],be=pe[1],he=Object(s.useState)(!1),ve=Object(h.a)(he,2),Ne=ve[0],xe=ve[1],ye=[n("key_87"),n("key_138"),n("key_899"),n("key_892"),""],ke=Object(s.useState)([[]]),Oe=Object(h.a)(ke,2),ge=Oe[0],je=Oe[1];function we(e){u.androidApp?alert(e):(V.error(),te(e))}function _e(){if(D.value.startsWith("PL")){var e=D.value.match(/PL.*?(\/|\-)/g);J(!0),fetch(p+"ERP/Pallets/Boxes"+i({shipmentCode:E,palletID:e?parseInt(e[0].replace("PL","").replace("/","").replace("-","")):-1}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){te(""),fe([].concat(Object(L.a)(e.filter((function(e){return!ue.some((function(a){return a.Code===e.Code}))}))),Object(L.a)(ue)))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),we(e.status===y.a.NOT_FOUND?n("key_873"):n("key_303"))):(k.promiseError(e),we(n("key_416")))})).finally((function(){J(!1),Ce()}))}else ue&&ue.some((function(e){return e.Code===D.value}))?(Ce(),we(n("key_874"))):(J(!0),fetch(p+"ERP/Shipments/Boxes"+i({shipmentCode:E,boxCode:D.value,unload:B.value}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){te(""),fe([e].concat(Object(L.a)(ue)))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=14;break}if(k.httpError(a),a.status!==y.a.NOT_FOUND){e.next=6;break}we(n("key_872")),e.next=12;break;case 6:if(a.status!==y.a.FORBIDDEN){e.next=11;break}return e.next=9,a.json().then((function(e){"box"===e.reason?we(B.value?n("key_882"):n("key_871")):"pallet"===e.reason&&we(n("key_828"))})).catch((function(e){k.promiseError(e),we(n("key_416"))}));case 9:e.next=12;break;case 11:we(n("key_303"));case 12:e.next=16;break;case 14:k.promiseError(a),we(n("key_416"));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){J(!1),Ce()})))}function Ce(){P((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:""})})),D.ref.current.focus()}function Se(){return fetch(p+"ERP/Shipments/Products"+i({shipmentCode:E}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){le(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(n("key_303"))):(k.promiseError(e),alert(n("key_416")))}))}function De(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.querySelector(".fas").classList.remove("hide"),e.querySelector('span[class*="famo-text-"]').classList.add("hide"),fetch(p+"ERP/Shipments/Products/Components"+i({orderCode:a,orderLine:t,languageCode:u.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){xe(!0),je(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(n("key_303"))):(k.promiseError(e),alert(n("key_416")))})).finally((function(){e.querySelector(".fas").classList.add("hide"),e.querySelector('span[class*="famo-text-"]').classList.remove("hide")}))}return Object(s.useEffect)((function(){f.setLoadPage(!0);var e=fetch(p+"ERP/Shipments"+i({code:E}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){_((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.Description})}))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(e.status===y.a.NOT_FOUND?n("key_825"):n("key_303")),a.replace("/Expedition")):(k.promiseError(e),alert(n("key_416")))}));Promise.all([e,Se()]).finally((function(){f.setLoadPage(!1)})),setInterval((function(){Se()}),1e4),X.clear()}),[]),Object(s.useEffect)((function(){fe([])}),[B]),m.a.createElement(m.a.Fragment,null,m.a.createElement(Q.a,{when:ue.length>0,message:n("key_881")}),m.a.createElement("section",{className:"container famo-wrapper"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12 col-xl-8"},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),_e()}},!u.androidApp&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},N.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},N,{set:x})))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},w.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},w,{set:_}))))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},D.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},D,{isDisabled:W||Ee,set:P})))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},B.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},B,{isDisabled:W||Ee,set:z})))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("div",{className:"form-message"},m.a.createElement("span",{className:"famo-text-11 famo-color-red "+(ae?"":"hide")},ae)),m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:W||Ee,onClick:function(e){return Ce()}},m.a.createElement("span",{className:"famo-text-12"},n("key_829"))),!u.androidApp&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:W||Ee,onClick:function(e){return _e()}},m.a.createElement("span",{className:"famo-text-12"},n("key_815"))))))))),!u.androidApp&&m.a.createElement("div",{className:"col-12 col-xl-4"},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:n("key_820")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!Ee}),m.a.createElement("div",{className:"famo-grid rating-panel "+(Ee?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-23 famo-color-green"},d(oe.reduce((function(e,a){return 1===a.ShipmentStatus?e+a.TotalBoxes:e}),0)).format("0,0")),m.a.createElement("span",{className:"famo-text-23"},"/"+d(oe.reduce((function(e,a){return e+a.TotalBoxes}),0)).format("0,0"))))))),m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!Ee}),m.a.createElement("div",{className:"famo-grid rating-panel "+(Ee?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-23 famo-color-green"},d(oe.reduce((function(e,a){return 1===a.ShipmentStatus?e+a.ProductVolume:e}),0)).format("0,0.00")),m.a.createElement("span",{className:"famo-text-23"},"/"+d(oe.reduce((function(e,a){return e+a.ProductVolume}),0)).format("0,0.00")+" m\xb3"))))))))),m.a.createElement("section",{className:"container famo-wrapper expedition-details"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12 col-xl-5"},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:n("key_876")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!Ee}),m.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(Ee?"hide":"")},m.a.createElement("div",{className:"famo-row famo-header-row"},ne.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===ne.length-1?"text-center":"")},m.a.createElement("span",{className:"famo-text-11"},e))}))),oe.filter((function(e){return 0===e.ShipmentStatus})).map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-row famo-body-row"},m.a.createElement("div",{className:"famo-cell famo-col-1"},m.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button text-left",onClick:function(a){return De(a.currentTarget,e.OrderCode)}},m.a.createElement("span",{className:"fas fa-spinner fa-spin "+(e.PendingBoxes>0?"famo-color-red":"")+" hide"}),m.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.OrderCode))),m.a.createElement("div",{className:"famo-cell famo-col-2"},m.a.createElement("p",null,m.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.ProductCode)),m.a.createElement("p",null,m.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.ProductDescription))),m.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},m.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button",onClick:function(a){return De(a.currentTarget,e.OrderCode,e.OrderLine)}},m.a.createElement("span",{className:"fas fa-spinner fa-spin "+(e.PendingBoxes>0?"famo-color-red":"")+" hide"}),m.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},d(e.PendingBoxes).format("0,0"),"/",d(e.TotalBoxes).format("0,0")))))})))))),m.a.createElement("div",{className:"col-12 col-xl-2"},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:n("key_879")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!W&&!Ee}),m.a.createElement("div",{className:"famo-grid "+(W||Ee?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button famo-confirm-button button-save-boxes",disabled:W||Ee||0===ue.length,onClick:function(e){return be(!0),void fetch(p+"ERP/Shipments/Boxes"+i({shipmentCode:E,unload:B.value}),O.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue.map((function(e){return e.Code})))})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){te(""),fe([]),le(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(n("key_302"))):(k.promiseError(e),alert(n("key_416")))})).finally((function(){be(!1),Ce()}))}},m.a.createElement("span",{className:"famo-text-12"},n("key_220")))))),m.a.createElement("div",{className:"famo-grid famo-content-grid expedition-boxes "+(W||Ee?"hide":"")},m.a.createElement("div",{className:"famo-row famo-header-row"},se.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},m.a.createElement("span",{className:"famo-text-11"},e+(0===a?" ("+d(ue.length).format("0,0")+")":"")))}))),ue.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-row famo-body-row"},m.a.createElement("div",{className:"famo-cell famo-col-1"},m.a.createElement("span",{className:"famo-text-10 "+(B.value?"famo-color-red":"")},e.Code)),m.a.createElement("div",{className:"famo-cell famo-col-2"},m.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(a){return t=e.Code,void(window.confirm(n("key_880"))&&fe(ue.filter((function(e){return e.Code!==t}))));var t}},m.a.createElement("span",{className:"fas fa-trash-alt"}))))})))))),m.a.createElement("div",{className:"col-12 col-xl-5"},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:n("key_875")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!Ee}),m.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(Ee?"hide":"")},m.a.createElement("div",{className:"famo-row famo-header-row"},ne.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===ne.length-1?"text-center":"")},m.a.createElement("span",{className:"famo-text-11"},e))}))),oe.filter((function(e){return 1===e.ShipmentStatus})).map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-row famo-body-row"},m.a.createElement("div",{className:"famo-cell famo-col-1"},m.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),m.a.createElement("div",{className:"famo-cell famo-col-2"},m.a.createElement("p",null,m.a.createElement("span",{className:"famo-text-10"},e.ProductCode)),m.a.createElement("p",null,m.a.createElement("span",{className:"famo-text-10"},e.ProductDescription))),m.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},m.a.createElement("span",{className:"famo-text-10"},d(e.TotalBoxes).format("0,0"))))})))))))),m.a.createElement(K,{visible:Ne,setVisible:xe},ge.filter((function(e){return e.length>0})).map((function(e,a){var t=e[0].ProductCode,r=e[0].ProductDescription;return m.a.createElement("section",{key:a,className:"famo-wrapper"},m.a.createElement(q,{text:t+" - "+r}),m.a.createElement("div",{className:"famo-content"},m.a.createElement("div",{className:"famo-grid famo-content-grid expedition-components"},m.a.createElement("div",{className:"famo-row famo-header-row"},ye.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},m.a.createElement("span",{className:"famo-text-11"},e))}))),e.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-row famo-body-row"},m.a.createElement("div",{className:"famo-cell famo-col-1"},m.a.createElement("span",{className:"famo-text-10"},e.ComponentCode)),m.a.createElement("div",{className:"famo-cell famo-col-2"},m.a.createElement("span",{className:"famo-text-10 "+(e.ComponentDescription?"":"famo-color-yellow")},e.ComponentDescription?e.ComponentDescription:n("key_237"))),m.a.createElement("div",{className:"famo-cell famo-col-3"},m.a.createElement("span",{className:"famo-text-10"},e.BoxCode)),m.a.createElement("div",{className:"famo-cell famo-col-4"},m.a.createElement("span",{className:"famo-text-10 "+(-1===e.Bin.ID?"famo-color-yellow":"")},-1===e.Bin.ID?"n/a":e.Bin.Code)),m.a.createElement("div",{className:"famo-cell famo-col-5"},m.a.createElement("span",{className:"fas "+(e.BoxPrinted?"fa-check famo-color-green":"fa-times famo-color-red")})))})))))}))))}var ne=Object(Q.j)((function(){return m.a.createElement(Q.e,null,m.a.createElement(Q.c,{exact:!0,path:"/Expedition",render:function(e){return m.a.createElement(ae,e)}}),m.a.createElement(Q.c,{exact:!0,path:"/Expedition/Edit",render:function(e){return m.a.createElement(te,e)}}),m.a.createElement(Q.c,{path:"/Expedition/*",render:function(){return m.a.createElement(Q.b,{to:"/Expedition"})}}))})),re=t(47);var ce=Object(Q.j)((function(e){var a=Object(R.a)().t,t=[{label:a("key_894"),image:"btn-armazem.png",url:"/Warehouse"},{label:a("key_877"),image:"btn-expedicao.png",url:"/Expedition"},{label:a("key_826"),image:"btn-palete.png",url:"/Pallets"},{label:a("key_806"),image:"btn-inventario.png",url:"/Inventory"}];return Object(s.useEffect)((function(){X.clear()}),[]),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row",style:{justifyContent:"center"}},t.map((function(e,a){return m.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},m.a.createElement(re.b,{to:e.url},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("div",{className:"famo-grid famo-menu-item"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-menu-item-label text-center"},m.a.createElement("span",{className:"famo-text-19",title:e.label},e.label))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-menu-item-img text-center"},m.a.createElement("img",{src:p+"Images/"+e.image,alt:e.label}))))))))}))))}));function oe(e,a){function t(e){e.preventDefault(),document.removeEventListener("backbutton",t,!1)}document.addEventListener("backbutton",t,!1),window.cordova.plugins.barcodeScanner.scan((function(a){a.cancelled||(e(a),document.removeEventListener("backbutton",t,!1))}),(function(e){alert(a("key_686"))}),{preferFrontCamera:!1,showFlipCameraButton:!1,showTorchButton:!0,torchOn:!1,saveHistory:!1,prompt:"",resultDisplayDuration:0,formats:"CODE_39,CODE_128",orientation:"unset",disableAnimations:!0,disableSuccessBeep:!1,continuousMode:!1})}var le=Object(Q.j)((function(e){var a=Object(R.a)().t,t=ee(),n=Object(h.a)(t,2),o=n[0],l=n[1],u=Object(s.useState)([]),f=Object(h.a)(u,2),d=f[0],E=f[1],b=Object(s.useState)({ref:m.a.createRef(),type:I.Select,label:a("key_806"),className:"famo-input famo-text-10",name:"inventoryCode",value:""}),v=Object(h.a)(b,2),N=v[0],x=v[1],g=[N],j=Object(s.useState)(!1),w=Object(h.a)(j,2),_=w[0],C=w[1],D=Object(s.useState)(),P=Object(h.a)(D,2),T=P[0],A=P[1],B=Object(s.useState)({type:I.Text,label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:"",isDisabled:!0}),L=Object(h.a)(B,2),V=L[0],z=L[1],U=Object(s.useState)({type:I.Text,label:a("key_464"),className:"famo-input famo-text-10",name:"productVariantCode",value:"",isDisabled:!0}),W=Object(h.a)(U,2),M=W[0],J=W[1],Q=Object(s.useState)({type:I.Text,label:a("key_138"),className:"famo-input famo-text-10",name:"productDescription",value:"",isDisabled:!0}),Z=Object(h.a)(Q,2),$=Z[0],ae=Z[1],te=Object(s.useState)({type:I.Text,label:a("key_751"),className:"famo-input famo-text-10",name:"locationCode",value:"",isDisabled:!0}),ne=Object(h.a)(te,2),re=ne[0],ce=ne[1],le=Object(s.useState)({ref:m.a.createRef(),type:I.Number,label:a("key_347"),className:"famo-input famo-text-10",name:"quantity",value:"",invalidMessage:a("key_13")}),se=Object(h.a)(le,2),me=se[0],ie=se[1],ue=[V,M,$,re,me],fe=[z,J,ae,ce,ie],de=Object(s.useState)(!1),pe=Object(h.a)(de,2),Ee=pe[0],be=pe[1],he=Object(s.useState)({ref:m.a.createRef(),type:I.Text,label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:""}),ve=Object(h.a)(he,2),Ne=ve[0],xe=ve[1],ye=[Ne],ke=[xe];function Oe(e){var t=e.split("/"),n=t[0],o="";t.length>1&&(o=t[1]),C(!0),fetch(p+"ERP/Inventories/Lines"+i({inventoryCode:N.value,productCode:n,productVariantCode:o}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){A(e),z((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.ProductCode})})),J((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.ProductVariantCode})})),ae((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.ProductDescription})})),ce((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.LocationCode})}))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_809"):a("key_303"))):(k.promiseError(e),alert(a("key_416"))),A(null),H.resetValues(ue,fe)})).finally((function(){C(!1)}))}function ge(){H.analyze(ue,fe)}function je(){H.analyze(ye,ke)}return Object(s.useEffect)((function(){l.setLoadPage(!0),fetch(p+"ERP/Inventories"+i({}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){E(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(a("key_303"))):(k.promiseError(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)})),X.clear()}),[]),Object(s.useEffect)((function(){A(null),H.resetValues(ue,fe)}),g),Object(s.useEffect)((function(){H.areAnalyzed(ue)&&(H.areValid(ue)?(C(!0),fetch(p+"ERP/Inventories/Lines"+i({}),O.addAuthorizationHeader({method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:T.Code,productCode:T.ProductCode,productVariantCode:T.ProductVariantCode,locationCode:T.LocationCode,quantity:me.type!==I.Number?me.value:parseFloat(S(me.value))})})).then((function(e){if(!e.ok||e.status!==y.a.OK)throw e;A(null),H.resetValues(ue,fe),alert(a("key_805"))})).catch((function(e){e?(k.httpError(e),alert(a("key_302"))):(k.promiseError(e),alert(a("key_416")))})).finally((function(){C(!1)}))):H.popUpAlerts(ue,a),H.resetValidations(ue,fe))}),ue),Object(s.useEffect)((function(){H.areAnalyzed(ye)&&(H.areValid(ye)?(Oe(Ne.value),be(!1)):(Ne.ref.current.focus(),H.popUpAlerts(ye,a)),H.resetValidations(ye,ke))}),ye),m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:function(e){return e.preventDefault()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},N.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},N,{isDisabled:_,set:x}),m.a.createElement("option",{key:""}),d.map((function(e,a){return m.a.createElement("option",{key:a,value:e.Code},e.Name)})))))),N.value&&m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:_,onClick:function(e){return be(!0)}},m.a.createElement("span",{className:"famo-text-12"},a("key_807"))),o.androidApp&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:_,onClick:function(e){oe((function(e){Oe(e.text)}),a)}},m.a.createElement("span",{className:"famo-text-12"},a("key_681")))))))),(_||T)&&m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_339")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!_}),m.a.createElement("form",{className:"famo-grid famo-form-grid "+(_?"hide":""),noValidate:!0,onSubmit:function(e){e.preventDefault(),ge()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},V.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,V))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},M.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,M))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},$.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,$))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},re.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,re))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},me.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},me,{set:ie}))))),m.a.createElement("div",{className:"famo-grid famo-buttons "+(_?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return ge()}},m.a.createElement("span",{className:"famo-text-12"},a("key_220")))))))),m.a.createElement(K,{visible:Ee,setVisible:be,visibleCallback:function(e){e?Ne.ref.current.focus():H.resetValues(ye,ke)}},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),je()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},Ne.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},Ne,{set:xe})))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return je()}},m.a.createElement("span",{className:"famo-text-12"},a("key_701"))),m.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return be(!1)}},m.a.createElement("span",{className:"famo-text-12"},a("key_484"))))))))))}));function se(e){var a=e.history,t=Object(R.a)().t,n=ee(),o=Object(h.a)(n,1)[0],l=window.sessionStorage.getItem("SS_PALLET"),u=Object(s.useState)({ref:m.a.createRef(),type:I.Text,label:t("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:l?JSON.parse(window.sessionStorage.getItem("SS_PALLET")).shipmentCode:"",autoFocus:!0}),f=Object(h.a)(u,2),d=f[0],E=f[1],b=Object(s.useState)(null),v=Object(h.a)(b,2),N=v[0],x=v[1],g=Object(s.useState)(!1),j=Object(h.a)(g,2),w=j[0],_=j[1],C=[t("key_279")],S=Object(s.useState)(null),D=Object(h.a)(S,2),P=D[0],T=D[1];function A(e){_(!0),fetch(p+"ERP/Pallets"+i({shipmentCode:e}),O.addAuthorizationHeader({method:"GET"})).then(function(){var a=Object(c.a)(r.a.mark((function a(t){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.ok||t.status!==y.a.OK){a.next=5;break}return a.next=3,t.json().then((function(a){x(e),T(a),_(!1)}));case 3:a.next=6;break;case 5:throw t;case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(e.status===y.a.NOT_FOUND?t("key_825"):t("key_303"))):(k.promiseError(e),alert(t("key_416"))),x(null),T(null),_(!1),B()}))}function B(){E((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:""})})),d.ref.current.focus()}function L(e){window.sessionStorage.setItem("SS_PALLET",JSON.stringify({shipmentCode:N})),a.push("/Pallet/Edit?shipmentCode="+N+(e?"&palletID="+e:""))}return Object(s.useEffect)((function(){l&&A(d.value),X.clear()}),[]),m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:function(e){e.preventDefault(),A(d.value)}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},d.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},d,{set:E})))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},o.androidApp&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w,onClick:function(e){oe((function(e){E((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.text})})),A(e.text)}),t)}},m.a.createElement("span",{className:"famo-text-12"},t("key_681"))),m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w,onClick:function(e){return B()}},m.a.createElement("span",{className:"famo-text-12"},t("key_829"))),m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w,onClick:function(e){return A(d.value)}},m.a.createElement("span",{className:"famo-text-12"},t("key_323")))))))),(w||P)&&m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:t("key_826")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!w}),m.a.createElement("div",{className:"famo-grid famo-content-grid pallets "+(w?"hide":"")},m.a.createElement("div",{className:"famo-row famo-header-row"},C.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},m.a.createElement("span",{className:"famo-text-11"},e))}))),P&&P.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-row famo-body-row",onClick:function(a){return L(e.ID)}},m.a.createElement("div",{className:"famo-cell famo-col-1"},m.a.createElement("span",{className:"famo-text-10"},e.ID)))}))),m.a.createElement("div",{className:"famo-grid famo-buttons "+(w?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:function(e){return L()}},m.a.createElement("span",{className:"famo-text-12"},t("key_817")))))))))}function me(e){var a=e.location,t=e.history,n=Object(R.a)().t,o=ee(),l=Object(h.a)(o,2),u=l[0],f=l[1],d=M.a.parse(a.search),E=Object(s.useState)(d.palletID),b=Object(h.a)(E,2),v=b[0],N=b[1],x=Object(s.useState)(!0),g=Object(h.a)(x,2),j=g[0],w=g[1],_=Object(s.useState)(!1),C=Object(h.a)(_,2),S=C[0],D=C[1],P=[n("key_87"),n("key_179"),""],T=Object(s.useState)([]),A=Object(h.a)(T,2),B=A[0],z=A[1],U=Object(s.useState)(!1),W=Object(h.a)(U,2),J=W[0],Z=W[1],$=Object(s.useState)(!1),ae=Object(h.a)($,2),te=ae[0],ne=ae[1],re=Object(s.useState)(!1),ce=Object(h.a)(re,2),le=ce[0],se=ce[1],me=Object(s.useState)(!1),ie=Object(h.a)(me,2),ue=ie[0],fe=ie[1],de=Object(s.useState)({ref:m.a.createRef(),type:I.Text,label:n("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),pe=Object(h.a)(de,2),Ee=pe[0],be=pe[1],he=[Ee],ve=[be],Ne=Object(s.useState)(""),xe=Object(h.a)(Ne,2),ye=xe[0],ke=xe[1];function Oe(e){u.androidApp?alert(e):(ke(e),V.error())}function ge(e){B.some((function(a){return a.Code===e}))?(H.resetValues(he,ve),Ee.ref.current.focus(),Oe(n("key_814"))):(Z(!0),fetch(p+"ERP/Shipments/Boxes"+i({shipmentCode:d.shipmentCode,boxCode:e}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){ke(""),e.IsNew=!0,z([].concat(Object(L.a)(B),[e]))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=14;break}if(k.httpError(a),a.status!==y.a.NOT_FOUND){e.next=6;break}Oe(n("key_872")),e.next=12;break;case 6:if(a.status!==y.a.FORBIDDEN){e.next=11;break}return e.next=9,a.json().then((function(e){"box"===e.reason?Oe(n("key_871")):"pallet"===e.reason&&Oe(n("key_828"))})).catch((function(e){k.promiseError(e),Oe(n("key_416"))}));case 9:e.next=12;break;case 11:Oe(n("key_303"));case 12:e.next=16;break;case 14:k.promiseError(a),Oe(n("key_416"));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){Z(!1),H.resetValues(he,ve),Ee.ref.current.focus()})))}function je(){H.analyze(he,ve)}return Object(s.useEffect)((function(){d.palletID&&(f.setLoadPage(!0),fetch(p+"ERP/Pallets/Boxes"+i({shipmentCode:d.shipmentCode,palletID:d.palletID}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){D(e.some((function(e){return e.IsShipped}))),w(e.some((function(e){return e.IsPalletOpen}))),e.forEach((function(e){e.IsNew=!1})),z(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(e.status===y.a.NOT_FOUND?n("key_873"):n("key_303")),t.replace("/Pallet")):(k.promiseError(e),alert(n("key_416")))})).finally((function(){f.setLoadPage(!1)}))),X.clear({pallet:!0})}),[]),Object(s.useEffect)((function(){H.areAnalyzed(he)&&(H.areValid(he)&&ge(Ee.value),H.resetValidations(he,ve))}),he),d.shipmentCode?m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:n("key_820")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!te}),m.a.createElement("div",{className:"famo-grid famo-content-grid pallet-boxes "+(te?"hide":"")},m.a.createElement("div",{className:"famo-row famo-header-row"},P.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},m.a.createElement("span",{className:"famo-text-11"},e))}))),B.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-row famo-body-row"},m.a.createElement("div",{className:"famo-cell famo-col-1"},m.a.createElement("span",{className:"famo-text-10"},e.Code)),m.a.createElement("div",{className:"famo-cell famo-col-2"},m.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),m.a.createElement("div",{className:"famo-cell famo-col-3"},m.a.createElement("span",{className:"famo-text-10"},e.IsNew&&m.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(a){return t=e.Code,void(window.confirm(n("key_880"))&&z(B.filter((function(e){return e.Code!==t}))));var t}},m.a.createElement("span",{className:"fas fa-trash-alt"})))))}))),!S&&j&&m.a.createElement("div",{className:"famo-grid famo-buttons "+(te?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:J||le,onClick:function(e){return fe(!0)}},m.a.createElement("span",{className:"famo-text-12"},n("key_815")+" ("+n("key_807").toLowerCase()+")")),u.androidApp&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:J||le,onClick:function(e){oe((function(e){be((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.text})})),ge(e.text)}),n)}},m.a.createElement("span",{className:"famo-text-12"},n("key_815")+" ("+n("key_681").toLowerCase()+")"))))))),B.length>0&&!S&&m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-grid"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},j&&m.a.createElement(m.a.Fragment,null,B.some((function(e){return e.IsNew}))&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:J||te||le,onClick:function(e){return ne(!0),void fetch(p+"ERP/Pallets"+i({shipmentCode:d.shipmentCode,palletID:v||null}),O.addAuthorizationHeader({method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(B.filter((function(e){return e.IsNew})).map((function(e){return e.Code})))})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=6;break}return e.next=3,a.json().then((function(e){N(e.palletID)}));case 3:z(B.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{IsNew:!1})}))),e.next=7;break;case 6:throw a;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(n("key_302"))):(k.promiseError(e),alert(n("key_416")))})).finally((function(){ne(!1)}))}},m.a.createElement("span",{className:"famo-text-12"},n("key_220")))),v&&m.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button famo-loader-button",disabled:J||te||le,onClick:function(e){j&&B.some((function(e){return e.IsNew}))?alert(n("key_821")):(se(!0),fetch(p+"ERP/Pallets/"+(j?"Close":"Reopen")+i(j?{shipmentCode:d.shipmentCode,palletID:v}:{palletID:v}),O.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B.map((function(e){return e.Code})))})).then((function(e){if(!e.ok||e.status!==y.a.OK)throw e;w(!j),alert(n(j?"key_812":"key_813"))})).catch((function(e){e?(k.httpError(e),alert(n("key_302"))):(k.promiseError(e),alert(n("key_416")))})).finally((function(){se(!1)})))}},m.a.createElement("span",{className:"fas fa-spinner fa-spin "+(le?"":" hide")}),m.a.createElement("span",{className:"famo-text-12 "+(le?"hide":"")},n(j?"key_200":"key_827"))))))),m.a.createElement(K,{visible:ue,setVisible:fe,visibleCallback:function(e){e?Ee.ref.current.focus():(H.resetValues(he,ve),ke(""))}},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),je()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},Ee.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},Ee,{set:be})))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("div",{className:"form-message"},m.a.createElement("span",{className:"famo-text-11 famo-color-red "+(ye?"":"hide")},ye)),m.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return je()}},m.a.createElement("span",{className:"famo-text-12"},n("key_701"))),m.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return fe(!1)}},m.a.createElement("span",{className:"famo-text-12"},n("key_484")))))))))):m.a.createElement(Q.b,{to:"/Pallet"})}var ie=Object(Q.j)((function(){return m.a.createElement(Q.e,null,m.a.createElement(Q.c,{exact:!0,path:"/Pallets",render:function(e){return m.a.createElement(se,e)}}),m.a.createElement(Q.c,{exact:!0,path:"/Pallets/Edit",render:function(e){return m.a.createElement(me,e)}}),m.a.createElement(Q.c,{path:"/Pallets/*",render:function(){return m.a.createElement(Q.b,{to:"/Pallets"})}}))}));var ue=m.a.forwardRef((function(e,a){var t=e.className,n=e.text;return m.a.createElement("div",{className:t},m.a.createElement("span",{className:"famo-text-7"},n))})),fe=(Object(Q.j)((function(e){var a,t=e.location,n=Object(R.a)().t,o=ee(),l=Object(h.a)(o,2),i=l[0],u=l[1],f=Object(s.useState)({username:"",password:"",usernameErrorMsg:!1,passwordErrorMsg:!1,authError:!1,authHttpCode:-1}),d=Object(h.a)(f,2),p=d[0],E=d[1],b=Object(s.useState)(!1),v=Object(h.a)(b,2),N=v[0],x=v[1],O=m.a.createRef();function g(e){p.username||(e.persist(),E((function(a){return Object(F.a)(Object(F.a)({},a),{},{usernameErrorMsg:"blur"===e.type})})))}function j(e){p.password||(e.persist(),E((function(a){return Object(F.a)(Object(F.a)({},a),{},{passwordErrorMsg:"blur"===e.type})})))}function w(){return(w=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x(!0),p.username&&p.password){e.next=6;break}E((function(e){return Object(F.a)(Object(F.a)({},e),{},{usernameErrorMsg:!p.username,passwordErrorMsg:!p.password})})),e.next=9;break;case 6:return E((function(e){return Object(F.a)(Object(F.a)({},e),{},{authError:!1,authHttpCode:-1})})),e.next=9,B.signIn(p.username,p.password).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.setItem("access_noken",a.Token),e.next=3,T(a.AuthUser,u,n);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),E((function(a){return Object(F.a)(Object(F.a)({},a),{},{password:"",passwordErrorMsg:!1,authError:!0,authHttpCode:e.status})})),e.status!==y.a.BAD_REQUEST&&e.status!==y.a.INTERNAL_SERVER_ERROR&&console.log(n("key_416")+" - "+e.status)):(k.promiseError(e),alert(n("key_416")))}));case 9:x(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){p.authError&&O.current.focus()}),[p.authError]),!N&&i.authUser?m.a.createElement(Q.b,{to:(null===(a=t.state)||void 0===a?void 0:a.from)||{pathname:"/"}}):m.a.createElement("section",{className:"famo-grid signin"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"signin-body"},m.a.createElement("div",{className:"signin-famo-logo"},m.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})),m.a.createElement("div",{className:"signin-container"},m.a.createElement("div",{className:"signin-app-name"},m.a.createElement("span",{className:"famo-text-2"},"PDA")),m.a.createElement("div",{className:"famo-loader-wrapper "+(N?"":"hide")},m.a.createElement("div",{className:"famo-loader"})),m.a.createElement("form",{className:N?"hide":"",onSubmit:function(e){return function(e){return w.apply(this,arguments)}(e)}},m.a.createElement("div",{className:"signin-input"},m.a.createElement("input",{type:"text",className:"famo-input famo-text-3 "+(p.usernameErrorMsg?"famo-input-error":""),placeholder:n("key_397"),ref:O,name:"username",value:p.username,autoComplete:"off",autoFocus:!0,onChange:function(e){return function(e){e.persist(),E((function(a){return Object(F.a)(Object(F.a)({},a),{},{username:e.target.value})}))}(e)},onFocus:function(e){return g(e)},onBlur:function(e){return g(e)}}),m.a.createElement(ue,{className:"signin-input-error "+(p.usernameErrorMsg?"":"hide"),text:n("key_196")})),m.a.createElement("div",{className:"signin-input"},m.a.createElement("input",{type:"password",className:"famo-input famo-text-3 "+(p.passwordErrorMsg?"famo-input-error":""),placeholder:n("key_314"),name:"password",value:p.password,onChange:function(e){return function(e){e.persist(),E((function(a){return Object(F.a)(Object(F.a)({},a),{},{password:e.target.value})}))}(e)},onFocus:function(e){return j(e)},onBlur:function(e){return j(e)}}),m.a.createElement(ue,{className:"signin-input-error "+(p.passwordErrorMsg?"":"hide"),text:n("key_195")})),m.a.createElement("div",{className:"signin-form-error "+(p.authError?"":"hide")},p.authError&&p.authHttpCode===y.a.BAD_REQUEST&&m.a.createElement("span",{className:"famo-text-7"},n("key_398")),p.authError&&p.authHttpCode===y.a.INTERNAL_SERVER_ERROR&&m.a.createElement("span",{className:"famo-text-7"},n("key_306"))),m.a.createElement("button",{className:"famo-button famo-confirm-button signin-button signin-button-submit",type:"submit"},m.a.createElement("span",{className:"famo-text-5"},n("key_238")))))))))})),t(645)),de=t(644);var pe,Ee=Object(Q.j)((function(e){var a=e.location,t=Object(R.a)().t,n=ee(),o=Object(h.a)(n,2),l=o[0],u=o[1],d=window.moment,E=window.numeral,b=M.a.parse(a.search).binCode,v=Object(s.useState)(),N=Object(h.a)(v,2),x=N[0],g=N[1],j=Object(s.useState)(-1),w=Object(h.a)(j,2),_=w[0],C=w[1],S=["",t("key_85"),t("key_179"),t("key_907"),t("key_900"),t("key_896")],D=Object(s.useState)(null),P=Object(h.a)(D,2),T=P[0],A=P[1],I=Object(s.useState)(d()),B=Object(h.a)(I,2),F=B[0],V=B[1],z=Object(s.useState)(null),H=Object(h.a)(z,2),U=H[0],G=H[1],K=Object(s.useState)(0),W=Object(h.a)(K,2),q=W[0],J=W[1];function Y(e){return fetch(p+"Warehouse/Bins/Orders"+i({binCode:b,languageCode:l.authUser.Language.Code,page:e}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){A(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(t("key_303"))):(k.promiseError(e),alert(t("key_416")))}))}function Q(e){var a=d(),t="";return e.AllBinOrderBoxes===e.OrderBoxes?t="famo-color-green":(d(e.OrderExpectedShipmentDate).subtract({days:1}).isSame(a.startOf("date"))||d(e.OrderExpectedShipmentDate).isSame(a.startOf("date")))&&(t="famo-color-red"),t}function X(){return fetch(p+"TV/Messages"+i({date:d().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){G(e),J(0)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(t("key_303"))):(k.promiseError(e),alert(t("key_416")))}))}return f((function(){V(d())}),1e3),f((function(){Y(T?T.CurrentPage===T.PagesNumber?1:T.CurrentPage+1:1)}),1e4),f((function(){U&&U.length>0&&J(q+1===U.length?0:q+1)}),5e3),f((function(){X()}),18e5),Object(s.useEffect)((function(){u.setLoadPage(!0),C(window.innerHeight-document.querySelector(".tv-footer").clientHeight-30-30-document.querySelector(".bin-orders .famo-header-row").clientHeight);var e=fetch(p+"Warehouse/Bins"+i({code:b,languageCode:l.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){g(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(t("key_303"))):(k.promiseError(e),alert(t("key_416")))}));Promise.all([e,Y(1),X()]).finally((function(){u.setLoadPage(!1)}))}),[]),m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"container famo-wrapper"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12 col-xl-2"},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("div",{className:"famo-grid tv-famo-logo"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),m.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},m.a.createElement("div",{className:"famo-content"},x&&m.a.createElement("div",{className:"famo-grid rating-panel"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-23"},x.Code)))))),m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("div",{className:"famo-grid rating-panel"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-23"},F.format("L"))))))),m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("div",{className:"famo-grid rating-panel"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-23"},F.format("LTS"))))))),m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},x&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"famo-grid"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-11"},t("key_908")))),m.a.createElement("div",{className:"pda-victory-container"},m.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},m.a.createElement(de.a,Object.assign({},{standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},{data:[{x:!0,y:x.TotalVolume},{x:!1,y:x.MaxVolume-x.TotalVolume}],colorScale:["#ff3333","#bfbfbf"],labels:function(){return null}})))))))),m.a.createElement("div",{className:"col-12 col-xl-10"},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("div",{className:"famo-grid famo-content-grid bin-orders"},m.a.createElement("div",{className:"famo-row famo-header-row"},S.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},m.a.createElement("span",{className:"famo-text-11"},e))})))),m.a.createElement("div",{className:"bin-orders bin-orders-data",style:{maxHeight:-1===_?"auto":_+"px"}},m.a.createElement("div",{className:"famo-grid famo-content-grid"},m.a.createElement("div",{className:"famo-row famo-header-row hide"}),T&&T.Data.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-row famo-body-row "+(-1!==e.ShipmentGate.ID?"tv-blink-row":"")},m.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},m.a.createElement("p",null,m.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.OrderCountry.Code.toLowerCase()+".png",height:"42",alt:e.OrderCountry.Code,onError:function(e){e.target.src=p+"Images/no-flag.png"}})),m.a.createElement("p",null,m.a.createElement("span",{className:"tv-text-1"},e.OrderCountry.Label))),m.a.createElement("div",{className:"famo-cell famo-col-2"},m.a.createElement("span",{className:"famo-text-10 "+Q(e)},e.CustomerName)),m.a.createElement("div",{className:"famo-cell famo-col-3"},m.a.createElement("span",{className:"famo-text-10 "+Q(e)},e.OrderCode)),m.a.createElement("div",{className:"famo-cell famo-col-4"},m.a.createElement("span",{className:"famo-text-10 "+Q(e)},d(e.OrderExpectedShipmentDate).isBefore(d().startOf("date"))?t("key_906"):d(e.OrderExpectedShipmentDate).format("L"))),m.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},m.a.createElement("span",{className:"famo-text-10 "+Q(e)},E(e.BinOrderBoxes).format("0,0")+"/"+E(e.OrderBoxes).format("0,0"))),m.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},m.a.createElement("span",{className:"famo-text-10 "+(-1===e.ShipmentGate.ID?"famo-color-yellow":Q(e))},-1===e.ShipmentGate.ID?"n/a":e.ShipmentGate.Label)))}))),T&&m.a.createElement("div",{className:"famo-grid famo-pagination"},m.a.createElement("div",{className:"famo-cell text-center"},Object(L.a)(Array(T.PagesNumber)).map((function(e,a){return m.a.createElement("span",{key:a,className:(a+1>T.CurrentPage?"far":"fas")+" fa-circle"})})))))))))),m.a.createElement("section",{className:"tv-footer"},m.a.createElement("div",{className:"container tv-messages"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12 col-xl-2"},m.a.createElement("div",{className:"famo-grid tv-message-type"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell"},U&&U.length>0&&m.a.createElement("span",{className:"tv-text-2"},U[q].Type.Label))))),m.a.createElement("div",{className:"col-12 col-xl-10"},m.a.createElement("div",{className:"famo-grid tv-message-content"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell"},U&&U.map((function(e,a){return m.a.createElement(fe.a,{key:a,in:a===q,timeout:250,classNames:"transition"},m.a.createElement("span",{className:"tv-text-3 "+(a!==q?"hide":"")},e.Text))}))))))))))})),be=t(646);function he(e){var a=Object(R.a)().t,t=[{label:a("key_895"),url:"/Warehouse/Boxes/Add"},{label:a("key_897"),url:"/Warehouse/Orders"},{label:a("key_905"),url:"/Warehouse/Boxes/Transfer"},{label:a("key_891"),url:"/Warehouse/Boxes/Delete"}];return m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row",style:{justifyContent:"center"}},t.map((function(e,a){return m.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-lg-3"},m.a.createElement(re.b,{to:e.url},m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement("div",{className:"famo-grid famo-menu-item"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-19"},e.label)))))))}))))}function ve(e){var a=Object(R.a)().t,t=ee(),n=Object(h.a)(t,2),o=n[0],l=n[1],u=window.moment,f=Object(s.useState)({ref:m.a.createRef(),type:I.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),d=Object(h.a)(f,2),E=d[0],b=d[1],v=Object(s.useState)(!1),N=Object(h.a)(v,2),x=N[0],g=N[1],j=Object(s.useState)(null),w=Object(h.a)(j,2),_=w[0],C=w[1],S=Object(s.useState)([]),D=Object(h.a)(S,2),P=D[0],T=D[1],A=Object(s.useState)({ref:m.a.createRef(),type:I.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),B=Object(h.a)(A,2),L=B[0],V=B[1],z=Object(s.useState)({type:I.Text,label:a("key_179"),className:"famo-input famo-text-10",name:"orderCode",value:"",isDisabled:!0}),U=Object(h.a)(z,2),K=U[0],W=U[1],M=Object(s.useState)({type:I.Text,label:a("key_85"),className:"famo-input famo-text-10",name:"customerName",value:"",isDisabled:!0}),J=Object(h.a)(M,2),Q=J[0],X=J[1],Z=Object(s.useState)({type:I.Text,label:a("key_670"),className:"famo-input famo-text-10",name:"expectedShipmentDate",value:"",isDisabled:!0}),$=Object(h.a)(Z,2),ae=$[0],te=$[1],ne=Object(s.useState)(!1),re=Object(h.a)(ne,2),ce=re[0],oe=re[1],le=Object(s.useState)(!1),se=Object(h.a)(le,2),me=se[0],ie=se[1],ue=[L,K,Q,ae],fe=[V,W,X,te],de=m.a.createRef();function pe(){g(!0),fetch(p+"Warehouse/Boxes"+i({code:E.value,languageCode:o.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){C(e),W((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.OrderCode})})),X((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.CustomerName})})),te((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:u(e.ExpectedShipmentDate).format("L")})})),V((function(a){return Object(F.a)(Object(F.a)({},a),{},{value:e.Bin.ID.toString()})})),g(!1),be(e.OrderCode,e.Bin.ID.toString())}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}if(k.httpError(t),t.status!==y.a.NOT_FOUND){e.next=6;break}alert(a("key_883")),e.next=16;break;case 6:if(t.status!==y.a.FORBIDDEN){e.next=10;break}alert(a("key_871")),e.next=16;break;case 10:if(t.status!==y.a.CONFLICT){e.next=15;break}return e.next=13,t.json().then((function(e){alert(a("key_887")+" "+e.box)})).catch((function(e){k.promiseError(e),alert(a("key_416"))}));case 13:e.next=16;break;case 15:alert(a("key_303"));case 16:e.next=20;break;case 18:k.promiseError(t),alert(a("key_416"));case 20:C(null),oe(!1),ie(!1),g(!1),H.resetValues(ue,fe),Ee();case 26:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}function Ee(){b((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:""})})),E.ref.current.focus()}function be(e,t){oe(!0),fetch(p+"Warehouse/Bins/Orders"+i({code:e,binID:t}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){ie(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(k.httpError(t),alert(a("key_303"))):(k.promiseError(t),alert(a("key_416")));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){oe(!1)}))}return Object(s.useEffect)((function(){l.setLoadPage(!0),fetch(p+"Warehouse/Bins"+i({languageCode:o.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){T(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(a("key_303"))):(k.promiseError(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)}))}),[]),Object(s.useEffect)((function(){var e;L.value&&be(K.value,L.value),null===(e=de.current)||void 0===e||e.focus()}),[L.value]),Object(s.useEffect)((function(){var e;x||(null===(e=de.current)||void 0===e||e.focus())}),[x]),m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_895")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),pe()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},E.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},E,{isDisabled:x,set:b})))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:x,onClick:function(e){return Ee()}},m.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!o.androidApp&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:x,onClick:function(e){return pe()}},m.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(x||_)&&m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_819")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!x}),_&&m.a.createElement(m.a.Fragment,null,m.a.createElement("form",{className:"famo-grid famo-form-grid "+(x?"hide":""),noValidate:!0},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("div",{className:"famo-input-loader "+(ce?"":"hide")},m.a.createElement("div",{className:"famo-loader"})),m.a.createElement("span",{className:"famo-text-11"},L.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},L,{set:V}),P.map((function(e,a){return m.a.createElement("option",{key:a,value:e.ID},e.Code)}))),m.a.createElement("div",{className:"famo-input-message "+(me?"":"hide")},m.a.createElement("span",{className:"famo-text-15"},a("key_902"))))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},K.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,K))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},Q.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Q))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},ae.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,ae)))),m.a.createElement("div",{className:"famo-grid famo-buttons "+(x?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",ref:de,className:"famo-button famo-confirm-button",onClick:function(e){return g(!0),void fetch(p+"Warehouse/Bins/Boxes"+i({}),O.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:L.value,code:_.Code})})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=9;break}C(null),oe(!1),ie(!1),g(!1),H.resetValues(ue,fe),Ee(),e.next=10;break;case 9:throw a;case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(a("key_302"))):(k.promiseError(e),alert(a("key_416"))),g(!1)}))}},m.a.createElement("span",{className:"famo-text-12"},a("key_220"))))))))))}function Ne(e){var a=Object(R.a)().t,t=ee(),n=Object(h.a)(t,2),o=n[0],l=n[1],u=window.moment,f=Object(s.useState)({ref:m.a.createRef(),type:I.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),d=Object(h.a)(f,2),E=d[0],b=d[1],v=Object(s.useState)(!1),N=Object(h.a)(v,2),x=N[0],g=N[1],j=Object(s.useState)(null),w=Object(h.a)(j,2),_=w[0],C=w[1],S=Object(s.useState)([]),D=Object(h.a)(S,2),P=D[0],T=D[1],A=Object(s.useState)({ref:m.a.createRef(),type:I.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),B=Object(h.a)(A,2),L=B[0],V=B[1],z=[L],U=[V],K=Object(s.useState)(null),W=Object(h.a)(K,2),M=W[0],J=W[1];function Q(){g(!0),fetch(p+"Warehouse/Bins/Boxes"+i({code:E.value,languageCode:o.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){C(e),g(!1),H.resetValues(z,U)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_883"):a("key_303"))):(k.promiseError(e),alert(a("key_416"))),C(null),g(!1),H.resetValues(z,U),X()}))}function X(){b((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:""})})),E.ref.current.focus()}return Object(s.useEffect)((function(){l.setLoadPage(!0),fetch(p+"Warehouse/Bins"+i({languageCode:o.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){T(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(a("key_303"))):(k.promiseError(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)}))}),[]),Object(s.useEffect)((function(){H.areAnalyzed(z)&&(H.areValid(z)?(g(!0),fetch(p+"Warehouse/Bins/Boxes"+i(M===pe.Box?{ID:_.ID}:{}),O.addAuthorizationHeader({method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:L.value,orderCode:_.OrderCode})})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=7;break}C(null),g(!1),H.resetValues(z,U),X(),e.next=8;break;case 7:throw a;case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(a("key_302"))):(k.promiseError(e),alert(a("key_416"))),g(!1)}))):H.popUpAlerts(z,a),H.resetValidations(z,U))}),z),m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_905")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),Q()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},E.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},E,{isDisabled:x,set:b})))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:x,onClick:function(e){return X()}},m.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!o.androidApp&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:x,onClick:function(e){return Q()}},m.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(x||_)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_312")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!x}),_&&m.a.createElement("div",{className:"famo-grid famo-form-grid "+(x?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_87"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},_.Code)))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_179"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},_.OrderCode)))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_85"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},_.CustomerName)))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_670"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},u(_.ExpectedShipmentDate).format("L"))))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_893"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},_.Bin.Code))))))),m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_898")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!x}),_&&m.a.createElement("form",{className:"famo-grid famo-form-grid "+(x?"hide":""),noValidate:!0},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},L.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},L,{set:V}),m.a.createElement("option",{key:-1,value:""}),P.filter((function(e){return e.ID!==_.Bin.ID})).map((function(e,a){return m.a.createElement("option",{key:a,value:e.ID},e.Code)})))))))),_&&m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-grid"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:x,onClick:function(e){return J(pe.Order),void H.analyze(z,U)}},m.a.createElement("span",{className:"famo-text-12"},a("key_903"))),m.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:x,onClick:function(e){return J(pe.Box),void H.analyze(z,U)}},m.a.createElement("span",{className:"famo-text-12"},a("key_904")))))))))}function xe(e){var a=Object(R.a)().t,t=ee(),n=Object(h.a)(t,1)[0],o=window.moment,l=Object(s.useState)({ref:m.a.createRef(),type:I.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),u=Object(h.a)(l,2),f=u[0],d=u[1],E=Object(s.useState)(!1),b=Object(h.a)(E,2),v=b[0],N=b[1],x=Object(s.useState)(null),g=Object(h.a)(x,2),j=g[0],w=g[1];function _(){N(!0),fetch(p+"Warehouse/Bins/Boxes"+i({code:f.value,languageCode:n.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){w(e),N(!1)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_883"):a("key_303"))):(k.promiseError(e),alert(a("key_416"))),w(null),N(!1),C()}))}function C(){d((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:""})})),f.ref.current.focus()}return m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_891")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),_()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},f.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},f,{isDisabled:v,set:d})))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:v,onClick:function(e){return C()}},m.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!n.androidApp&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:v,onClick:function(e){return _()}},m.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(v||j)&&m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_819")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!v}),j&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"famo-grid famo-form-grid "+(v?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_87"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},j.Code)))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_179"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},j.OrderCode)))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_85"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},j.CustomerName)))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_670"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},o(j.ExpectedShipmentDate).format("L"))))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_893"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},j.Bin.Code))))),m.a.createElement("div",{className:"famo-grid famo-buttons "+(v?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){window.confirm(a("key_880"))&&(N(!0),fetch(p+"Warehouse/Bins/Boxes"+i({ID:j.ID}),O.addAuthorizationHeader({method:"DELETE",headers:{"Content-Type":"application/json"}})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=6;break}w(null),N(!1),C(),e.next=7;break;case 6:throw a;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(a("key_302"))):(k.promiseError(e),alert(a("key_416"))),N(!1)})))}},m.a.createElement("span",{className:"famo-text-12"},a("key_489"))))))))))}function ye(e){var a=Object(R.a)().t,t=ee(),n=Object(h.a)(t,1)[0],o=window.moment,l=window.numeral,u=Object(s.useState)({ref:m.a.createRef(),type:I.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),f=Object(h.a)(u,2),d=f[0],E=f[1],b=Object(s.useState)(!1),v=Object(h.a)(b,2),N=v[0],x=v[1],g=Object(s.useState)(null),j=Object(h.a)(g,2),w=j[0],_=j[1],C={standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},S={lineHeight:3.5,x:200,y:210},D=[a("key_339"),a("key_900"),a("key_892")],P=Object(s.useState)([]),T=Object(h.a)(P,2),A=T[0],B=T[1];function L(){x(!0),fetch(p+"ERP/Boxes"+i({code:d.value}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){_(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),e.status===y.a.NOT_FOUND?alert(a("key_883")):e.status===y.a.FORBIDDEN?alert(a("key_871")):alert(a("key_303"))):(k.promiseError(e),alert(a("key_416"))),_(null),B([]),x(!1),V()}))}function V(){E((function(e){return Object(F.a)(Object(F.a)({},e),{},{value:""})})),d.ref.current.focus()}return Object(s.useEffect)((function(){w&&fetch(p+"Warehouse/Bins/Boxes"+i({orderCode:w.OrderCode,languageCode:n.authUser.Language.Code}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){B(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(k.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_884"):a("key_303"))):(k.promiseError(e),alert(a("key_416")))})).finally((function(){x(!1)}))}),[w]),m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_897")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),L()}},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},d.label)),m.a.createElement("div",{className:"famo-cell"},m.a.createElement(G,Object.assign({},d,{isDisabled:N,set:E})))),m.a.createElement("input",{type:"submit",className:"hide",value:""})),m.a.createElement("div",{className:"famo-grid famo-buttons"},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell text-right"},m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:N,onClick:function(e){return V()}},m.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!n.androidApp&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:N,onClick:function(e){return L()}},m.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(N||w)&&m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement(q,{text:a("key_179")}),m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!N}),w&&m.a.createElement("div",{className:"famo-grid famo-form-grid "+(N?"hide":"")},m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_179"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},w.OrderCode)))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_85"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},w.CustomerName)))),m.a.createElement("div",{className:"famo-row"},m.a.createElement("div",{className:"famo-cell famo-input-label"},m.a.createElement("span",{className:"famo-text-11"},a("key_670"))),m.a.createElement("div",{className:"famo-cell"},m.a.createElement("div",{className:"famo-input"},m.a.createElement("span",{className:"famo-text-10"},o(w.ExpectedShipmentDate).format("L")))))))),m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!N}),w&&m.a.createElement("div",{className:"container "+(N?"hide":"")},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12 col-lg-4"},m.a.createElement("div",{className:"famo-grid"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-11"},a("key_889")))),m.a.createElement("div",{className:"pda-victory-container"},m.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},m.a.createElement(de.a,Object.assign({},C,{data:[{x:!0,y:A.filter((function(e){return!e.IsPrinted})).length},{x:!1,y:A.filter((function(e){return e.IsPrinted})).length}],colorScale:["#ff3333","#bfbfbf"],labels:function(){return null}})),m.a.createElement(be.a,Object.assign({},S,{textAnchor:"middle",verticalAnchor:"middle",text:[l(A.filter((function(e){return!e.IsPrinted})).length/A.length).format("0.00%"),l(A.filter((function(e){return!e.IsPrinted})).length).format("0,0")+"/"+l(A.length).format("0,0")],style:[{fill:"#ff3333"}]}))))),m.a.createElement("div",{className:"col-12 col-lg-4"},m.a.createElement("div",{className:"famo-grid"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-11"},a("key_886")))),m.a.createElement("div",{className:"pda-victory-container"},m.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},m.a.createElement(de.a,Object.assign({},C,{data:[{x:!0,y:A.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length},{x:!1,y:A.filter((function(e){return!(e.IsPrinted&&-1===e.Bin.ID)})).length}],colorScale:["#3333ff","#bfbfbf"],labels:function(){return null}})),m.a.createElement(be.a,Object.assign({},S,{textAnchor:"middle",verticalAnchor:"middle",text:[l(A.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length/A.length).format("0.00%"),l(A.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length).format("0,0")+"/"+l(A.length).format("0,0")],style:[{fill:"#3333ff"}]}))))),m.a.createElement("div",{className:"col-12 col-lg-4"},m.a.createElement("div",{className:"famo-grid"},m.a.createElement("div",{className:"famo-cell text-center"},m.a.createElement("span",{className:"famo-text-11"},a("key_888")))),m.a.createElement("div",{className:"pda-victory-container"},m.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},m.a.createElement(de.a,Object.assign({},C,{data:[{x:!0,y:A.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length},{x:!1,y:A.filter((function(e){return!(e.IsPrinted&&-1!==e.Bin.ID)})).length}],colorScale:["#33ff33","#bfbfbf"],labels:function(){return null}})),m.a.createElement(be.a,Object.assign({},S,{textAnchor:"middle",verticalAnchor:"middle",text:[l(A.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length/A.length).format("0.00%"),l(A.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length).format("0,0")+"/"+l(A.length).format("0,0")],style:[{fill:"#33ff33"}]}))))))))),m.a.createElement("section",{className:"famo-wrapper"},m.a.createElement("div",{className:"famo-content"},m.a.createElement(Y,{hide:!N}),w&&m.a.createElement("div",{className:"famo-grid famo-content-grid warehouse-boxes "+(N?"hide":"")},m.a.createElement("div",{className:"famo-row famo-header-row"},D.map((function(e,a){return m.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},m.a.createElement("span",{className:"famo-text-11"},e))}))),Object.entries(A.sort((function(e,a){return e.ProductCode>a.ProductCode?1:-1})).reduce((function(e,a){return e[a.ProductCode]=e[a.ProductCode]||[],e[a.ProductCode].push(a),e}),{})).map((function(e){var a=Object(h.a)(e,2),t=a[0],n=a[1];return Object.entries(n.sort((function(e,a){return e.Bin.Code>a.Bin.Code?-1:1})).reduce((function(e,a){return e[a.Bin.Code]=e[a.Bin.Code]||[],e[a.Bin.Code].push(a),e}),{})).map((function(e,a){var r=Object(h.a)(e,2),c=r[0],o=r[1];return m.a.createElement("div",{key:a,className:"famo-row famo-body-row"},m.a.createElement("div",{className:"famo-cell famo-col-1"},m.a.createElement("span",{className:"famo-text-10"},t)),m.a.createElement("div",{className:"famo-cell famo-col-2"},m.a.createElement("span",{className:"famo-text-10"},l(o.length).format("0,0"),"/",l(n.length).format("0,0"))),m.a.createElement("div",{className:"famo-cell famo-col-3"},m.a.createElement("span",{className:"famo-text-10 "+("null"===c?"famo-color-yellow":"")},"null"===c?"n/a":c)))}))})))))))}!function(e){e[e.Box=1]="Box",e[e.Order=2]="Order"}(pe||(pe={}));var ke=Object(Q.j)((function(e){return m.a.createElement(Q.e,null,m.a.createElement(Q.c,{exact:!0,path:"/Warehouse",render:function(e){return m.a.createElement(he,e)}}),m.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Boxes/Add",render:function(e){return m.a.createElement(ve,e)}}),m.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Boxes/Transfer",render:function(e){return m.a.createElement(Ne,e)}}),m.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Boxes/Delete",render:function(e){return m.a.createElement(xe,e)}}),m.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Orders",render:function(e){return m.a.createElement(ye,e)}}),m.a.createElement(Q.c,{path:"/Warehouse/*",render:function(){return m.a.createElement(Q.b,{to:"/Warehouse"})}}))})),Oe=t(195);function ge(e){var a=Object(Q.h)(),t=Object(Q.i)(),n=Object(R.a)().t,o=ee(),l=Object(h.a)(o,2),f=l[0],d=l[1],E=Object(s.useState)(!0),b=Object(h.a)(E,2),v=b[0],N=b[1],x=Object(s.useState)(!1),g=Object(h.a)(x,2),j=g[0],w=g[1],_=-1,C=null;return Object(s.useEffect)((function(){N(!0),fetch(p+"Authentication/Session/User"+i({}),O.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(a,d,n);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.autoSignIn(d,n);case 2:a?k.httpError(a):k.promiseError(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){N(!1)}))}),[]),Object(s.useEffect)((function(){w("/"!==t.pathname&&"/TV"!==t.pathname)}),[t.pathname]),m.a.createElement(m.a.Fragment,null,!v&&m.a.createElement(Oe.a,{trackMouse:!0,trackTouch:!1,onSwiping:function(e){return function(e){u()||"Up"!==e.dir&&"Down"!==e.dir||(-1===_&&(C=e.event.path.some((function(e){var a=e.className;return!!a&&-1!==a.indexOf("famo-modal")}))?document.querySelector(".famo-modal"):document.querySelector("body"),_=C.scrollTop),C.scrollTop=_+e.deltaY)}(e)},onSwiped:function(e){return C=null,void(_=-1)}},m.a.createElement("section",{className:"famo-body "+("/TV"===t.pathname?"tv-body":"")},m.a.createElement(Q.e,null,m.a.createElement(Q.c,{exact:!0,path:"/",render:function(){return m.a.createElement(ce,null)}}),m.a.createElement(Q.c,{path:"/TV",render:function(){return m.a.createElement(Ee,null)}}),m.a.createElement(Q.c,{path:"/Warehouse",render:function(){return m.a.createElement(ke,null)}}),m.a.createElement(Q.c,{path:"/Expedition",render:function(){return m.a.createElement(ne,null)}}),m.a.createElement(Q.c,{path:"/Pallets",render:function(){return m.a.createElement(ie,null)}}),m.a.createElement(Q.c,{path:"/Inventory",render:function(){return m.a.createElement(le,null)}})),!f.androidApp&&j&&m.a.createElement("button",{type:"button",className:"famo-button famo-normal-button pda-back-button "+(f.loadPage?"hide":""),onClick:function(e){return a.goBack()}},m.a.createElement("span",{className:"fas fa-arrow-left"})))),m.a.createElement(J,{hide:!v&&!f.loadPage}))}var je=function(e){return m.a.createElement(re.a,{basename:"/"},m.a.createElement(ge,e))};function we(){return _e.apply(this,arguments)}function _e(){return(_e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{document.getElementById("pda-footer").innerText=(new Date).getFullYear()+" \xa9 FAMO - PDA",b.a.render(m.a.createElement(s.Suspense,{fallback:m.a.createElement(J,{hide:!1})},m.a.createElement(je,null)),document.getElementById("root"))}catch(a){alert("Ouch!! Restart app!")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.cordova?document.addEventListener("deviceready",we,!1):we()}},[[312,1,2]]]);