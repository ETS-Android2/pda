(this["webpackJsonppda-client"]=this["webpackJsonppda-client"]||[]).push([[0],{214:function(e,a,t){e.exports=t(435)},434:function(e,a,t){},435:function(e,a,t){"use strict";t.r(a);var n=t(3),c=t.n(n),o=t(10),r=(t(216),t(225),t(0)),s=t.n(r),l=t(203),m=t.n(l),i=t(2),u=(t(213),t(83)),f=t(4),d=t(36),p=t(44),b=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"error",value:function(){new Audio("http://www.famo-code.com/FAMO.Rep/PDA/Sound/error.mp3").play()}}]),e}(),E=t(8),h=t.n(E),v=t(47),N=t.n(v);function y(e){return e?e.toString().replace(new RegExp("\\"+N.a.localeData().delimiters.thousands,"g"),"").replace(new RegExp("\\"+N.a.localeData().delimiters.decimal,"g"),"."):e}function k(){return(k=Object(o.a)(c.a.mark((function e(a,t){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.current.selectionStart,o=t.current.value,110===a.keyCode&&(a.preventDefault(),t.current.value=o.substr(0,n)+N.a.localeData().delimiters.decimal+o.substr(n,o.length-1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){switch(e){case"POR":N.a.locale("pt-pt");break;case"ENG":N.a.locale("en");break;case"ESP":N.a.locale("es-es");break;case"FRA":N.a.locale("fr")}}window.numeral=N.a;var O=t(204),g=s.a.forwardRef((function(e,a){var t=Object(O.a)().t,n=e.className,c=e.isDisabled,o=e.isNumber,l=e.name,m=e.value,u=e.autoFocus,d=e.noData,p=e.wrongFormat,b=e.invalidValue,E=e.invalidMessage,h=e.analyze,v=e.set,N=e.children,x=Object(r.useState)({noData:!1,wrongFormat:!1,invalidValue:!1}),g=Object(i.a)(x,2),w=g[0],j=g[1],_=s.a.Children.count(N)>0;return Object(r.useEffect)((function(){if(!c&&h){var e=m;v((function(e){return Object(f.a)(Object(f.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!1})})),e?o&&e&&(e=y(e),isNaN(e)?v((function(e){return Object(f.a)(Object(f.a)({},e),{},{noData:!1,wrongFormat:!0,invalidValue:!1})})):parseFloat(e)<=0&&v((function(e){return Object(f.a)(Object(f.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!0})}))):v((function(e){return Object(f.a)(Object(f.a)({},e),{},{noData:!0,wrongFormat:!1,invalidValue:!1})})),v((function(e){return Object(f.a)(Object(f.a)({},e),{},{localAnalyze:!0})}))}}),[h]),Object(r.useEffect)((function(){j({noData:d,wrongFormat:p,invalidValue:b})}),[d,p,b]),s.a.createElement(s.a.Fragment,null,_?s.a.createElement("select",{className:n+(w.noData?" famo-input-error":""),name:l,ref:a,disabled:c,onChange:function(e){return v((function(e){return Object(f.a)(Object(f.a)({},e),{},{value:a.current.value})}))}},N):s.a.createElement("input",{type:"text",className:n+(w.noData?" famo-input-error":w.wrongFormat||w.invalidValue?" famo-input-warning":""),name:l,value:m,ref:a,autoFocus:u,disabled:c,onKeyDown:function(e){o&&function(e,a){k.apply(this,arguments)}(e,a)},onChange:function(e){return v((function(e){return Object(f.a)(Object(f.a)({},e),{},{value:a.current.value})}))}}),!_&&s.a.createElement(s.a.Fragment,null,!c&&s.a.createElement("div",{className:"famo-input-message "+(w.wrongFormat?"":"hide")},s.a.createElement("span",{className:"famo-text-15"},t("key_808"))),E&&!c&&s.a.createElement("div",{className:"famo-input-message "+(w.invalidValue?"":"hide")},s.a.createElement("span",{className:"famo-text-15"},E))))})),w=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"analyze",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(f.a)(Object(f.a)({},e),{},{analyze:!0})}))}))}},{key:"areAnalyzed",value:function(e){return!e.filter((function(e){return!e.isDisabled})).some((function(e){return!e.localAnalyze}))}},{key:"areValid",value:function(e){return!e.filter((function(e){return!e.isDisabled})).some((function(e){return e.noData||e.wrongFormat||e.invalidValue}))}},{key:"getValue",value:function(e){return e.isNumber?parseFloat(y(e.value)):e.value}},{key:"popUpAlerts",value:function(e,a){e.some((function(e){return e.noData}))&&j.noData(a),e.some((function(e){return e.wrongFormat}))&&j.wrongFormat(e.filter((function(e){return e.wrongFormat})).map((function(e){return e.label})),a),e.some((function(e){return e.invalidValue}))&&j.invalidValue(e.filter((function(e){return e.invalidValue})).map((function(e){return e.label})),a)}},{key:"resetValidations",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(f.a)(Object(f.a)({},e),{},{analyze:!1,localAnalyze:!1})}))}))}},{key:"resetValues",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(f.a)(Object(f.a)({},e),{},{value:"",noData:!1,wrongFormat:!1,invalidValue:!1,analyze:!1,selfAnalyze:!1})}))}))}}]),e}(),j=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"invalidValue",value:function(e,a){for(var t=a("key_192"),n=0,c=e.length;n<c;n++)t+=e[n],n<c-2?t+=", ":n===c-2&&(t+=" "+a("key_573")+" ");alert(t)}},{key:"noData",value:function(e){alert(e("key_197"))}},{key:"wrongFormat",value:function(e,a){for(var t=a("key_191"),n=0,c=e.length;n<c;n++)t+=e[n],n<c-2?t+=", ":n===c-2&&(t+=" "+a("key_573")+" ");alert(t)}}]),e}(),_=g,C=s.a.forwardRef((function(e,a){var t=e.visible,n=e.setVisible,c=e.visibleCallback,o=e.children,l=Object(O.a)().t,m=Object(r.useState)(t),u=Object(i.a)(m,2),f=u[0],d=u[1];return Object(r.useEffect)((function(){d(t)}),[t]),Object(r.useEffect)((function(){c&&c(f)}),[f]),s.a.createElement("section",{className:"w3-modal famo-modal "+(f?"w3-show":""),onClick:function(e){return n(!1)}},s.a.createElement("div",{className:"w3-modal-content famo-modal-content",onClick:function(e){return e.stopPropagation()}},o),s.a.createElement("div",{className:"famo-buttons"},s.a.createElement("button",{type:"button",className:"famo-button famo-icon-button",title:l("key_200"),onClick:function(e){return function(e){e.stopPropagation(),n(!1)}(e)}},s.a.createElement("span",{className:"fas fa-times"}))))})),S=t(102),P=t.n(S);var D=function(e){var a=e.text,t=Object(r.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1];return s.a.createElement("div",{className:"famo-title "+(c?"collapsed":"")},s.a.createElement("span",{className:"famo-text-13",onClick:function(e){o(!c)}},a))};function T(e){var a=e.hide;return s.a.createElement("div",{className:"pda-app-loader "+(a?"hide":"")},s.a.createElement("div",{className:"famo-loader"}))}function A(e){var a=e.hide;return s.a.createElement("div",{className:"famo-loader-wrapper "+(a?"hide":"")},s.a.createElement("div",{className:"famo-loader"}))}function F(e){var a="?timestamp="+(new Date).getTime();for(var t in e){var n=e[t];if(Array.isArray(n))for(var c=0,o=n.length;c<o;c++)a+="&"+t+"="+(null===n[c]?"":encodeURIComponent(n[c]));else a+="&"+t+"="+(null===n?"":encodeURIComponent(n))}return a}function I(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=document.createElement("script");return t.async=!1,t.src=e,t.type="text/javascript",a?a.current.appendChild(t):document.querySelector("head").appendChild(t),new Promise((function(e,a){t.onload=e}))}var V="file:"===window.location.protocol?"http://192.168.1.2:9070/":window.location.protocol+"//"+window.location.hostname+":9070/";function R(e){fetch(V+"Log/Http/Errors?appName=pda&timestamp="+(new Date).getTime(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e.status,statusText:e.statusText,url:e.url}),credentials:"include"}).then((function(){})).catch((function(){}))}function B(e){fetch(V+"Log/Promise/Errors?appName=pda&timestamp="+(new Date).getTime(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.message,stack:e.stack,request:e.request?{method:e.request.method,path:e.request.path}:null,response:e.response?{status:e.response.status}:null}),credentials:"include"}).then((function(){})).catch((function(){}))}var L=t(17),z=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"clear",value:function(e){e?e.pallet||window.sessionStorage.removeItem("SS_PALLET"):window.sessionStorage.clear()}}]),e}(),U=t(211),M={setAndroidApp:function(e,a){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{androidApp:a}))},setAuthUser:function(e,a){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{authUser:a}))},setLoadPage:function(e,a){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{loadPage:a}))}},K=Object(U.a)(s.a,{androidApp:!1,authUser:null,loadPage:!1},M);function q(e){var a=Object(O.a)().t,t=e.history,n=K(),l=Object(i.a)(n,2)[1],m=[a("key_87"),a("key_138"),"Box's"],u=Object(r.useState)([]),f=Object(i.a)(u,2),d=f[0],p=f[1];return Object(r.useEffect)((function(){l.setLoadPage(!0),fetch(V+"ERP/Shipments"+F({}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){p(e)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:e.next=7;break;case 5:R(t),alert(a("key_303"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){l.setLoadPage(!1)})),z.clear()}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement(D,{text:a("key_878")}),s.a.createElement("div",{className:"famo-content"},s.a.createElement("div",{className:"famo-grid famo-content-grid shipments"},s.a.createElement("div",{className:"famo-row famo-header-row"},m.map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},s.a.createElement("span",{className:"famo-text-11"},e))}))),d.map((function(e,n){return s.a.createElement("div",{key:n,className:"famo-row famo-body-row",onClick:function(a){return n=e.Code,void t.push("/Expedition/Edit?shipmentCode="+n);var n}},s.a.createElement("div",{className:"famo-cell famo-col-1"},s.a.createElement("span",{className:"famo-text-10"},e.Code)),s.a.createElement("div",{className:"famo-cell famo-col-2"},s.a.createElement("span",{className:"famo-text-10 "+(e.Description?"":"famo-color-yellow")},e.Description?e.Description:a("key_237"))),s.a.createElement("div",{className:"famo-cell famo-col-3"},s.a.createElement("span",{className:"famo-text-10"},e.PickedBoxes+"/"+e.TotalBoxes)))}))))))}function G(e){var a=Object(O.a)().t,t=e.location,n=e.history,l=K(),m=Object(i.a)(l,2),d=m[0],p=m[1],E=P.a.parse(t.search),v=E.shipmentCode,N=Object(r.useState)(),y=Object(i.a)(N,2),k=y[0],x=y[1],g=Object(r.useState)({ref:s.a.createRef(),label:"Box",className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0,isNumber:!1,isDisabled:!1}),w=Object(i.a)(g,2),j=w[0],S=w[1],T=Object(r.useState)(""),I=Object(i.a)(T,2),U=I[0],M=I[1],q=[a("key_179"),a("key_54"),"Box's"],G=Object(r.useState)([]),J=Object(i.a)(G,2),H=J[0],Y=J[1],W=Object(r.useState)(!1),Q=Object(i.a)(W,2),X=Q[0],Z=(Q[1],Object(r.useState)([])),$=Object(i.a)(Z,2),ee=$[0],ae=$[1],te=Object(r.useState)(!1),ne=Object(i.a)(te,2),ce=ne[0],oe=ne[1],re=Object(r.useState)(!1),se=Object(i.a)(re,2),le=se[0],me=se[1],ie=Object(r.useState)(!1),ue=Object(i.a)(ie,2),fe=ue[0],de=ue[1],pe=[a("key_87"),a("key_138"),"Box",""],be=Object(r.useState)([[]]),Ee=Object(i.a)(be,2),he=Ee[0],ve=Ee[1],Ne=window.numeral;function ye(e){d.androidApp?alert(e):(b.error(),M(e))}function ke(){S((function(e){return Object(f.a)(Object(f.a)({},e),{},{value:""})})),j.ref.current.focus()}function xe(){return fetch(V+"ERP/Shipments/Products"+F({shipmentCode:v}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){Y(e)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:e.next=7;break;case 5:R(t),alert(a("key_303"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))}))}function Oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.querySelector(".fas").classList.remove("hide"),e.querySelector('span[class*="famo-text-"]').classList.add("hide"),fetch(V+"ERP/Shipments/Products/Components"+F({orderCode:t,orderLine:n}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){de(!0),ve(e)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:e.next=7;break;case 5:R(t),alert(a("key_303"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){de(!0),e.querySelector(".fas").classList.add("hide"),e.querySelector('span[class*="famo-text-"]').classList.remove("hide")}))}function ge(){if(j.value.startsWith("PL")){var e=j.value.match(/PL.*?\//g);oe(!0),fetch(V+"ERP/Pallets/Boxes"+F({shipmentCode:E.shipmentCode,palletID:e?parseInt(e[0].replace("PL","").replace("/","")):-1}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){M(""),e.forEach((function(e){ee.some((function(a){return a.Code!==e.Code}))&&ae([e].concat(Object(u.a)(ee)))}))})).catch((function(e){B(e),ye(a("key_416"))}));case 3:e.next=7;break;case 5:R(t),ye(t.status===h.a.NOT_FOUND?a("key_873"):a("key_303"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),ye(a("key_416"))})).finally((function(){oe(!1),ke()}))}else ee&&ee.some((function(e){return e.Code===j.value}))?(ye(a("key_874")),ke()):(oe(!0),fetch(V+"ERP/Shipments/Boxes"+F({shipmentCode:E.shipmentCode,boxCode:j.value}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){M(""),ae([e].concat(Object(u.a)(ee)))})).catch((function(e){B(e),ye(a("key_416"))}));case 3:e.next=16;break;case 5:if(R(t),t.status!==h.a.NOT_FOUND){e.next=10;break}ye(a("key_872")),e.next=16;break;case 10:if(t.status!==h.a.FORBIDDEN){e.next=15;break}return e.next=13,t.json().then((function(e){"box"===e.reason?ye(a("key_871")):"pallet"===e.reason&&ye(a("key_828"))})).catch((function(e){B(e),ye(a("key_416"))}));case 13:e.next=16;break;case 15:ye(a("key_303"));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),ye(a("key_416"))})).finally((function(){oe(!1),ke()})))}return Object(r.useEffect)((function(){S((function(e){return Object(f.a)(Object(f.a)({},e),{},{isDisabled:le})}))}),[le]),Object(r.useEffect)((function(){p.setLoadPage(!0);var e=fetch(V+"ERP/Shipments"+F({code:v}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){x(e)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:e.next=8;break;case 5:R(t),alert(t.status===h.a.NOT_FOUND?a("key_825"):a("key_303")),n.replace("/Expedition");case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))}));Promise.all([e,xe()]).finally((function(){p.setLoadPage(!1)})),setInterval((function(){xe().finally((function(){}))}),1e4),z.clear()}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(L.a,{when:ee.length>0,message:a("key_881")}),s.a.createElement("section",{className:"container famo-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-xl-8"},s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement("div",{className:"famo-content"},s.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),ge()}},!d.androidApp&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},a("key_822"))),s.a.createElement("div",{className:"famo-cell"},s.a.createElement("div",{className:"famo-input"},s.a.createElement("span",{className:"famo-text-10"},E.shipmentCode)))),s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},a("key_138"))),s.a.createElement("div",{className:"famo-cell"},s.a.createElement("div",{className:"famo-input"},s.a.createElement("span",{className:"famo-text-10 "+(k&&k.Description?"":"famo-color-yellow")},k&&k.Description?k.Description:a("key_237")))))),s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},"Box")),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,Object.assign({},j,{set:S})))),s.a.createElement("input",{type:"submit",className:"hide",value:""})),s.a.createElement("div",{className:"famo-grid famo-buttons"},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},s.a.createElement("div",{className:"form-message"},s.a.createElement("span",{className:"famo-text-11 famo-color-red "+(U?"":"hide")},U)),s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:ce||le,onClick:function(e){return ke()}},s.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!d.androidApp&&s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:ce||le,onClick:function(e){return ge()}},s.a.createElement("span",{className:"famo-text-12"},a("key_815"))))))))),!d.androidApp&&s.a.createElement("div",{className:"col-12 col-xl-4"},s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement(D,{text:"Box's"}),s.a.createElement("div",{className:"famo-content"},s.a.createElement(A,{hide:!le&&!X}),s.a.createElement("div",{className:"famo-grid rating-panel "+(le||X?"hide":"")},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-center"},s.a.createElement("span",{className:"famo-text-23 famo-color-green"},Ne(H.reduce((function(e,a){return 1===a.Status?e+a.TotalBoxes:e}),0)).format("0,0")),s.a.createElement("span",{className:"famo-text-23"},"/",Ne(H.reduce((function(e,a){return e+a.TotalBoxes}),0)).format("0,0"))))))),s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement("div",{className:"famo-content"},s.a.createElement(A,{hide:!le&&!X}),s.a.createElement("div",{className:"famo-grid rating-panel "+(le||X?"hide":"")},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-center"},s.a.createElement("span",{className:"famo-text-23 famo-color-green"},Ne(H.reduce((function(e,a){return 1===a.Status?e+a.Volume:e}),0)).format("0,0.00")),s.a.createElement("span",{className:"famo-text-23"},"/",Ne(H.reduce((function(e,a){return e+a.Volume}),0)).format("0,0.00")+" m3"))))))))),s.a.createElement("section",{className:"container famo-wrapper expedition-details"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-xl-5"},s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement(D,{text:a("key_876")}),s.a.createElement("div",{className:"famo-content"},s.a.createElement(A,{hide:!le&&!X}),s.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(le||X?"hide":"")},s.a.createElement("div",{className:"famo-row famo-header-row"},q.map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===q.length-1?"text-center":"")},s.a.createElement("span",{className:"famo-text-11"},e))}))),H.filter((function(e){return 0===e.Status})).map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-row famo-body-row"},s.a.createElement("div",{className:"famo-cell famo-col-1"},s.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button text-left",onClick:function(a){return Oe(a.currentTarget,e.OrderCode)}},s.a.createElement("span",{className:"fas fa-spinner fa-spin "+(e.PendingBoxes>0?"famo-color-red":"")+" hide"}),s.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.OrderCode))),s.a.createElement("div",{className:"famo-cell famo-col-2"},s.a.createElement("p",null,s.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.ProductCode)),s.a.createElement("p",null,s.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.ProductDescription))),s.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},s.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button",onClick:function(a){return Oe(a.currentTarget,e.OrderCode,e.OrderLine)}},s.a.createElement("span",{className:"fas fa-spinner fa-spin "+(e.PendingBoxes>0?"famo-color-red":"")+" hide"}),s.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},Ne(e.PendingBoxes).format("0,0"),"/",Ne(e.TotalBoxes).format("0,0")))))})))))),s.a.createElement("div",{className:"col-12 col-xl-2"},s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement(D,{text:a("key_879")}),s.a.createElement("div",{className:"famo-content"},s.a.createElement(A,{hide:!ce&&!le}),s.a.createElement("div",{className:"famo-grid "+(ce||le?"hide":"")},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button famo-confirm-button button-save-boxes",disabled:ce||le||0===ee.length,onClick:function(e){return me(!0),void fetch(V+"ERP/Shipments/Boxes"+F({shipmentCode:E.shipmentCode}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee.map((function(e){return e.Code}))),credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){M(""),Y(e),ae([])})).catch((function(e){B(e),alert(a("key_416"))}));case 3:e.next=7;break;case 5:R(t),alert(a("key_302"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){me(!1),ke()}))}},s.a.createElement("span",{className:"famo-text-12"},a("key_220")))))),s.a.createElement("div",{className:"famo-grid famo-content-grid expedition-boxes "+(ce||le?"hide":"")},s.a.createElement("div",{className:"famo-row famo-header-row"},["Box's",""].map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},s.a.createElement("span",{className:"famo-text-11"},e+(0===a?" ("+Ne(ee.length).format("0,0")+")":"")))}))),ee.map((function(e,t){return s.a.createElement("div",{key:t,className:"famo-row famo-body-row"},s.a.createElement("div",{className:"famo-cell famo-col-1"},s.a.createElement("span",{className:"famo-text-10"},e.Code)),s.a.createElement("div",{className:"famo-cell famo-col-2"},s.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button button-delete-box",onClick:function(t){return n=e.Code,void(window.confirm(a("key_880"))&&ae(ee.filter((function(e){return e.Code!==n}))));var n}},s.a.createElement("span",{className:"fas fa-trash-alt"}))))})))))),s.a.createElement("div",{className:"col-12 col-xl-5"},s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement(D,{text:a("key_875")}),s.a.createElement("div",{className:"famo-content"},s.a.createElement(A,{hide:!le&&!X}),s.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(le||X?"hide":"")},s.a.createElement("div",{className:"famo-row famo-header-row"},q.map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===q.length-1?"text-center":"")},s.a.createElement("span",{className:"famo-text-11"},e))}))),H.filter((function(e){return 1===e.Status})).map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-row famo-body-row"},s.a.createElement("div",{className:"famo-cell famo-col-1"},s.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),s.a.createElement("div",{className:"famo-cell famo-col-2"},s.a.createElement("p",null,s.a.createElement("span",{className:"famo-text-10"},e.ProductCode)),s.a.createElement("p",null,s.a.createElement("span",{className:"famo-text-10"},e.ProductDescription))),s.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},s.a.createElement("span",{className:"famo-text-10"},Ne(e.TotalBoxes).format("0,0"))))})))))))),s.a.createElement(C,{visible:fe,setVisible:de},he.filter((function(e){return e.length>0})).map((function(e,t){var n=e[0].ProductCode,c=e[0].ProductDescription;return s.a.createElement("section",{key:t,className:"famo-wrapper"},s.a.createElement(D,{text:n+" - "+c}),s.a.createElement("div",{className:"famo-content"},s.a.createElement("div",{className:"famo-grid famo-content-grid expedition-components"},s.a.createElement("div",{className:"famo-row famo-header-row"},pe.map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},s.a.createElement("span",{className:"famo-text-11"},e))}))),e.map((function(e,t){return s.a.createElement("div",{key:t,className:"famo-row famo-body-row"},s.a.createElement("div",{className:"famo-cell famo-col-1"},s.a.createElement("span",{className:"famo-text-10"},e.ComponentCode)),s.a.createElement("div",{className:"famo-cell famo-col-2"},s.a.createElement("span",{className:"famo-text-10 "+(e.ComponentDescription?"":"famo-color-yellow")},e.ComponentDescription?e.ComponentDescription:a("key_237"))),s.a.createElement("div",{className:"famo-cell famo-col-3"},s.a.createElement("span",{className:"famo-text-10"},e.BoxCode)),s.a.createElement("div",{className:"famo-cell famo-col-4"},s.a.createElement("span",{className:"fas "+(e.BoxPrinted?"fa-check famo-color-green":"fa-times famo-color-red")})))})))))}))))}var J=Object(L.j)((function(){return s.a.createElement(L.e,null,s.a.createElement(L.c,{exact:!0,path:"/Expedition",render:function(e){return s.a.createElement(q,e)}}),s.a.createElement(L.c,{exact:!0,path:"/Expedition/Edit",render:function(e){return s.a.createElement(G,e)}}),s.a.createElement(L.c,{path:"/Expedition/*",render:function(){return s.a.createElement(L.b,{to:"/Expedition"})}}))})),H=t(67),Y=t(436);var W=Object(L.j)(Object(Y.a)()((function(e){var a=e.t,t=Object(r.useState)({inventory:!1,pallet:!1,expedition:!1}),n=Object(i.a)(t,2),c=n[0],o=n[1],l=[{label:a("key_877"),key:"expedition",image:"btn-expedicao.png"},{label:a("key_826"),key:"pallet",image:"btn-palete.png"},{label:a("key_806"),key:"inventory",image:"btn-inventario.png"}];return Object(r.useEffect)((function(){z.clear()}),[]),c.expedition?s.a.createElement(L.b,{push:!0,to:"/Expedition"}):c.pallet?s.a.createElement(L.b,{push:!0,to:"/Pallet"}):c.inventory?s.a.createElement(L.b,{push:!0,to:"/Inventory"}):s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row",style:{justifyContent:"center"}},l.map((function(e,a){return s.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},s.a.createElement("section",{className:"famo-wrapper",onClick:function(a){return o((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(H.a)({},e.key,!0))}))}},s.a.createElement("div",{className:"famo-content"},s.a.createElement("div",{className:"famo-grid famo-menu-item"},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-menu-item-label text-center"},s.a.createElement("span",{className:"famo-text-19",title:e.label},e.label))),s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-menu-item-img text-center"},s.a.createElement("img",{src:V+"Images/"+e.image,alt:e.label})))))))}))))})));function Q(e,a){function t(e){e.preventDefault(),document.removeEventListener("backbutton",t,!1)}document.addEventListener("backbutton",t,!1),window.cordova.plugins.barcodeScanner.scan((function(a){a.cancelled||(e(a),document.removeEventListener("backbutton",t,!1))}),(function(e){alert(a("key_686"))}),{preferFrontCamera:!1,showFlipCameraButton:!1,showTorchButton:!0,torchOn:!1,saveHistory:!1,prompt:"",resultDisplayDuration:0,formats:"CODE_39,CODE_128",orientation:"unset",disableAnimations:!0,disableSuccessBeep:!1,continuousMode:!1})}var X=Object(L.j)(Object(Y.a)()((function(e){var a=e.t,t=K(),n=Object(i.a)(t,2),l=n[0],m=n[1],u=Object(r.useState)({ref:s.a.createRef(),label:a("key_806"),className:"famo-input famo-text-10",name:"inventoryCode",value:"",isNumber:!1,isDisabled:!1}),d=Object(i.a)(u,2),p=d[0],b=d[1],E=Object(r.useState)([]),v=Object(i.a)(E,2),N=v[0],y=v[1],k=Object(r.useState)(!1),x=Object(i.a)(k,2),O=x[0],g=x[1],j=Object(r.useState)(),S=Object(i.a)(j,2),P=S[0],T=S[1],I=Object(r.useState)({label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:"",isNumber:!1,isDisabled:!0}),L=Object(i.a)(I,2),U=L[0],M=L[1],q=Object(r.useState)({label:a("key_464"),className:"famo-input famo-text-10",name:"productVariantCode",value:"",isNumber:!1,isDisabled:!0}),G=Object(i.a)(q,2),J=G[0],H=G[1],Y=Object(r.useState)({label:a("key_138"),className:"famo-input famo-text-10",name:"productDescription",value:"",isNumber:!1,isDisabled:!0}),W=Object(i.a)(Y,2),X=W[0],Z=W[1],$=Object(r.useState)({label:a("key_751"),className:"famo-input famo-text-10",name:"locationCode",value:"",isNumber:!1,isDisabled:!0}),ee=Object(i.a)($,2),ae=ee[0],te=ee[1],ne=Object(r.useState)({ref:s.a.createRef(),label:a("key_347"),className:"famo-input famo-text-10",name:"quantity",value:"",isNumber:!0,isDisabled:!1,analyze:!1,localAnalyze:!1,noData:!1,wrongFormat:!1,invalidValue:!1,invalidMessage:a("key_13")}),ce=Object(i.a)(ne,2),oe=ce[0],re=ce[1],se=[U,J,X,ae,oe],le=[M,H,Z,te,re],me=s.a.createRef(),ie=Object(r.useState)(!1),ue=Object(i.a)(ie,2),fe=ue[0],de=ue[1],pe=Object(r.useState)({ref:s.a.createRef(),label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:"",isNumber:!1,isDisabled:!1,analyze:!1,localAnalyze:!1,noData:!1}),be=Object(i.a)(pe,2),Ee=be[0],he=be[1],ve=[Ee],Ne=[he];function ye(){w.resetValues(se,le),T(null)}function ke(e){var t=e.split("/"),n=t[0],r="";t.length>1&&(r=t[1]),ye(),g(!0),fetch(V+"ERP/Inventories/Products"+F({inventoryCode:p.value,productCode:n,productVariantCode:r}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){T(e),M((function(a){return Object(f.a)(Object(f.a)({},a),{},{value:e.ProductCode})})),H((function(a){return Object(f.a)(Object(f.a)({},a),{},{value:e.ProductVariantCode})})),Z((function(a){return Object(f.a)(Object(f.a)({},a),{},{value:e.ProductDescription})})),te((function(a){return Object(f.a)(Object(f.a)({},a),{},{value:e.LocationCode})}))})).catch((function(e){B(e),alert(a("key_416"))}));case 3:e.next=7;break;case 5:R(t),alert(t.status===h.a.NOT_FOUND?a("key_809"):a("key_303"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){g(!1)}))}function xe(){w.analyze(ve,Ne)}return Object(r.useEffect)((function(){m.setLoadPage(!0),fetch(V+"ERP/Inventories"+F({}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){y(e)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:e.next=7;break;case 5:R(t),alert(a("key_303"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){m.setLoadPage(!1)})),z.clear()}),[]),Object(r.useEffect)((function(){ye()}),[p]),Object(r.useEffect)((function(){w.areAnalyzed(se)&&(w.areValid(se)?(g(!0),fetch(V+"ERP/Inventories/Products"+F({documentCode:P.Code,productCode:P.ProductCode,productVariantCode:P.ProductVariantCode,locationCode:P.LocationCode,quantity:w.getValue(oe)}),{method:"PATCH",credentials:"include"}).then((function(e){e.ok&&e.status===h.a.OK?(ye(),alert(a("key_805"))):(R(e),alert(a("key_302")))})).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){g(!1)}))):w.popUpAlerts(se,a),w.resetValidations(se,le))}),se),Object(r.useEffect)((function(){w.areAnalyzed(ve)&&(w.areValid(ve)&&(ke(Ee.value),de(!1)),w.resetValidations(ve,Ne))}),ve),s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"famo-wrapper",ref:me},s.a.createElement("div",{className:"famo-content"},s.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:function(e){return e.preventDefault()}},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},p.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,Object.assign({},p,{isDisabled:O,set:b}),s.a.createElement("option",{key:""}),N.map((function(e,a){return s.a.createElement("option",{key:a,value:e.Code},e.Name)})))))),p.value&&s.a.createElement("div",{className:"famo-grid famo-buttons"},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:O,onClick:function(e){return de(!0)}},s.a.createElement("span",{className:"famo-text-12"},a("key_807"))),l.androidApp&&s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:O,onClick:function(e){Q((function(e){ke(e.text)}),a)}},s.a.createElement("span",{className:"famo-text-12"},a("key_681")))))))),(P||O)&&s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement(D,{text:a("key_339")}),s.a.createElement("div",{className:"famo-content"},s.a.createElement(A,{hide:!O}),s.a.createElement("form",{className:"famo-grid famo-form-grid "+(O?"hide":""),noValidate:!0,onSubmit:function(e){return e.preventDefault()}},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},U.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,U))),s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},J.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,J))),s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},X.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,X))),s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},ae.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,ae))),s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},oe.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,Object.assign({},oe,{set:re}))))),s.a.createElement("div",{className:"famo-grid famo-buttons "+(O?"hide":"")},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},s.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){w.analyze(se,le)}},s.a.createElement("span",{className:"famo-text-12"},a("key_810")))))))),s.a.createElement(C,{visible:fe,setVisible:de,visibleCallback:function(e){e?Ee.ref.current.focus():w.resetValues(ve,Ne)}},s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement("div",{className:"famo-content"},s.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),xe()}},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},Ee.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,Object.assign({},Ee,{set:he})))),s.a.createElement("input",{type:"submit",className:"hide",value:""})),s.a.createElement("div",{className:"famo-grid famo-buttons"},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},s.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return xe()}},s.a.createElement("span",{className:"famo-text-12"},a("key_701"))),s.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return de(!1)}},s.a.createElement("span",{className:"famo-text-12"},a("key_484"))))))))))})));function Z(e){var a=Object(O.a)().t,t=e.history,n=K(),l=Object(i.a)(n,1)[0],m=window.sessionStorage.getItem("SS_PALLET"),u=Object(r.useState)({ref:s.a.createRef(),label:a("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:m?JSON.parse(window.sessionStorage.getItem("SS_PALLET")).shipmentCode:"",autoFocus:!0,isNumber:!1,isDisabled:!1}),d=Object(i.a)(u,2),p=d[0],b=d[1],E=Object(r.useState)(),v=Object(i.a)(E,2),N=v[0],y=v[1],k=Object(r.useState)(!1),x=Object(i.a)(k,2),g=x[0],w=x[1],j=[a("key_279")],C=Object(r.useState)(null),S=Object(i.a)(C,2),P=S[0],T=S[1];function I(e){var t=!1;w(!0),fetch(V+"ERP/Pallets"+F({shipmentCode:e}),{method:"GET",credentials:"include"}).then(function(){var n=Object(o.a)(c.a.mark((function n(o){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.ok||o.status!==h.a.OK){n.next=5;break}return n.next=3,o.json().then((function(a){t=!0,y(e),T(a)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:n.next=7;break;case 5:R(o),alert(o.status===h.a.NOT_FOUND?a("key_825"):a("key_303"));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){w(!1),t||T(null)}))}function L(e){window.sessionStorage.setItem("SS_PALLET",JSON.stringify({shipmentCode:N})),t.push("/Pallet/Edit?shipmentCode="+N+(e?"&palletID="+e:""))}return Object(r.useEffect)((function(){m&&I(p.value),z.clear()}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement("div",{className:"famo-content"},s.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:function(e){e.preventDefault(),I(p.value)}},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},p.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,Object.assign({},p,{set:b})))),s.a.createElement("input",{type:"submit",className:"hide",value:""})),s.a.createElement("div",{className:"famo-grid famo-buttons"},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},l.androidApp&&s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:g,onClick:function(e){Q((function(e){b((function(a){return Object(f.a)(Object(f.a)({},a),{},{value:e.text})})),I(e.text)}),a)}},s.a.createElement("span",{className:"famo-text-12"},a("key_681"))),s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:g,onClick:function(e){return b((function(e){return Object(f.a)(Object(f.a)({},e),{},{value:""})})),void p.ref.current.focus()}},s.a.createElement("span",{className:"famo-text-12"},a("key_829"))),s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:g,onClick:function(e){return I(p.value)}},s.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(P||g)&&s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement(D,{text:a("key_826")}),s.a.createElement("div",{className:"famo-content"},s.a.createElement(A,{hide:!g}),s.a.createElement("div",{className:"famo-grid famo-content-grid pallets "+(g?"hide":"")},s.a.createElement("div",{className:"famo-row famo-header-row"},j.map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},s.a.createElement("span",{className:"famo-text-11"},e))}))),P&&P.map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-row famo-body-row",onClick:function(a){return L(e.ID)}},s.a.createElement("div",{className:"famo-cell famo-col-1"},s.a.createElement("span",{className:"famo-text-10"},e.ID)))}))),s.a.createElement("div",{className:"famo-grid famo-buttons "+(g?"hide":"")},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:function(e){return L()}},s.a.createElement("span",{className:"famo-text-12"},a("key_817")))))))))}function $(e){var a=Object(O.a)().t,t=e.location,n=e.history,l=K(),m=Object(i.a)(l,2),d=m[0],p=m[1],E=P.a.parse(t.search),v=Object(r.useState)(E.palletID),N=Object(i.a)(v,2),y=N[0],k=N[1],x=Object(r.useState)(!0),g=Object(i.a)(x,2),j=g[0],S=g[1],T=Object(r.useState)(!1),I=Object(i.a)(T,2),U=I[0],M=I[1],q=[a("key_87"),a("key_179"),""],G=Object(r.useState)([]),J=Object(i.a)(G,2),H=J[0],Y=J[1],W=Object(r.useState)(!1),X=Object(i.a)(W,2),Z=X[0],$=X[1],ee=Object(r.useState)(!1),ae=Object(i.a)(ee,2),te=ae[0],ne=ae[1],ce=Object(r.useState)(!1),oe=Object(i.a)(ce,2),re=oe[0],se=oe[1],le=Object(r.useState)(!1),me=Object(i.a)(le,2),ie=me[0],ue=me[1],fe=Object(r.useState)({ref:s.a.createRef(),label:"Box",className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0,isNumber:!1,isDisabled:!1,analyze:!1,localAnalyze:!1,noData:!1}),de=Object(i.a)(fe,2),pe=de[0],be=de[1],Ee=Object(r.useState)(""),he=Object(i.a)(Ee,2),ve=he[0],Ne=he[1],ye=[pe],ke=[be];function xe(e){d.androidApp?alert(e):(b.error(),Ne(e))}function Oe(e){H.some((function(a){return a.Code===e}))?xe(a("key_814")):($(!0),fetch(V+"ERP/Shipments/Boxes"+F({shipmentCode:E.shipmentCode,boxCode:e}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){Ne(""),e.isNew=!0,Y([].concat(Object(u.a)(H),[e]))})).catch((function(e){B(e),xe(a("key_416"))}));case 3:e.next=16;break;case 5:if(R(t),t.status!==h.a.NOT_FOUND){e.next=10;break}xe(a("key_872")),e.next=16;break;case 10:if(t.status!==h.a.FORBIDDEN){e.next=15;break}return e.next=13,t.json().then((function(e){"box"===e.reason?xe(a("key_871")):"pallet"===e.reason&&xe(a("key_828"))})).catch((function(e){B(e),xe(a("key_416"))}));case 13:e.next=16;break;case 15:xe(a("key_303"));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),xe(a("key_416"))})).finally((function(){$(!1)})))}function ge(){j&&H.some((function(e){return e.isNew}))?alert(a("key_821")):(se(!0),fetch(V+"ERP/Pallets/"+(j?"Close":"Reopen")+F(j?{shipmentCode:E.shipmentCode,palletID:y||-1}:{palletID:y||-1}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H.map((function(e){return e.Code}))),credentials:"include"}).then((function(e){e.ok&&e.status===h.a.OK?(alert(a(j?"key_812":"key_813")),S(!j)):(R(e),alert(a("key_302")))})).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){se(!1)})))}function we(){w.analyze(ye,ke)}return Object(r.useEffect)((function(){E.palletID&&(p.setLoadPage(!0),fetch(V+"ERP/Pallets/Boxes"+F({shipmentCode:E.shipmentCode,palletID:E.palletID}),{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){M(e.some((function(e){return e.IsShipped}))),S(e.some((function(e){return e.IsPalletOpen}))),e.forEach((function(e){e.isNew=!1})),Y(e)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:e.next=8;break;case 5:R(t),alert(t.status===h.a.NOT_FOUND?a("key_873"):a("key_303")),n.replace("/Pallet");case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){p.setLoadPage(!1)}))),z.clear({pallet:!0})}),[]),Object(r.useEffect)((function(){w.areAnalyzed(ye)&&(w.areValid(ye)&&(Oe(pe.value),w.resetValues(ye,ke),pe.ref.current.focus()),w.resetValidations(ye,ke))}),ye),E.shipmentCode?s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement(D,{text:"Box's"}),s.a.createElement("div",{className:"famo-content"},s.a.createElement(A,{hide:!te}),s.a.createElement("div",{className:"famo-grid famo-content-grid pallet-boxes "+(te?"hide":"")},s.a.createElement("div",{className:"famo-row famo-header-row"},q.map((function(e,a){return s.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},s.a.createElement("span",{className:"famo-text-11"},e))}))),H.map((function(e,t){return s.a.createElement("div",{key:t,className:"famo-row famo-body-row"},s.a.createElement("div",{className:"famo-cell famo-col-1"},s.a.createElement("span",{className:"famo-text-10"},e.Code)),s.a.createElement("div",{className:"famo-cell famo-col-2"},s.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),s.a.createElement("div",{className:"famo-cell famo-col-3"},s.a.createElement("span",{className:"famo-text-10"},e.isNew&&s.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button button-delete-box",onClick:function(t){return n=e.Code,void(window.confirm(a("key_880"))&&Y(H.filter((function(e){return e.Code!==n}))));var n}},s.a.createElement("span",{className:"fas fa-trash-alt"})))))}))),!U&&j&&s.a.createElement("div",{className:"famo-grid famo-buttons "+(te?"hide":"")},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:Z||re,onClick:function(e){return ue(!0)}},s.a.createElement("span",{className:"famo-text-12"},a("key_815")+" ("+a("key_807").toLowerCase()+")")),d.androidApp&&s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:Z||re,onClick:function(e){Q((function(e){Oe(e.text)}),a)}},s.a.createElement("span",{className:"famo-text-12"},a("key_815")+" ("+a("key_681").toLowerCase()+")"))))))),H.length>0&&!U&&s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement("div",{className:"famo-grid"},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},j?s.a.createElement(s.a.Fragment,null,H.some((function(e){return e.isNew}))&&s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:Z||te||re,onClick:function(e){return ne(!0),void fetch(V+"ERP/Pallets/Boxes"+F({shipmentCode:E.shipmentCode,palletID:y||null}),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H.filter((function(e){return e.isNew})).map((function(e){return e.Code}))),credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=6;break}return e.next=3,t.json().then((function(e){k(e.palletID)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:Y(H.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{isNew:!1})}))),e.next=8;break;case 6:R(t),alert(a("key_302"));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))})).finally((function(){ne(!1)}))}},s.a.createElement("span",{className:"famo-text-12"},a("key_220"))),s.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button famo-loader-button",disabled:Z||te||re,onClick:function(e){return ge()}},s.a.createElement("span",{className:"fas fa-spinner fa-spin "+(re?"":"hide")}),s.a.createElement("span",{className:"famo-text-12 "+(re?"hide":"")},a("key_200")))):s.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button famo-loader-button",disabled:Z||te||re,onClick:function(e){return ge()}},s.a.createElement("span",{className:"fas fa-spinner fa-spin "+(re?"":" hide")}),s.a.createElement("span",{className:"famo-text-12 "+(re?"hide":"")},a("key_827"))))))),s.a.createElement(C,{visible:ie,setVisible:ue,visibleCallback:function(e){e?pe.ref.current.focus():(w.resetValues(ye,ke),Ne(""))}},s.a.createElement("section",{className:"famo-wrapper"},s.a.createElement("div",{className:"famo-content"},s.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),we()}},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-input-label"},s.a.createElement("span",{className:"famo-text-11"},pe.label)),s.a.createElement("div",{className:"famo-cell"},s.a.createElement(_,Object.assign({},pe,{set:be})))),s.a.createElement("input",{type:"submit",className:"hide",value:""})),s.a.createElement("div",{className:"famo-grid famo-buttons"},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell text-right"},s.a.createElement("div",{className:"form-message"},s.a.createElement("span",{className:"famo-text-11 famo-color-red "+(ve?"":"hide")},ve)),s.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return we()}},s.a.createElement("span",{className:"famo-text-12"},a("key_701"))),s.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return ue(!1)}},s.a.createElement("span",{className:"famo-text-12"},a("key_484")))))))))):s.a.createElement(L.b,{to:"/Pallet"})}var ee=Object(L.j)((function(){return s.a.createElement(L.e,null,s.a.createElement(L.c,{exact:!0,path:"/Pallet",render:function(e){return s.a.createElement(Z,e)}}),s.a.createElement(L.c,{exact:!0,path:"/Pallet/Edit",render:function(e){return s.a.createElement($,e)}}),s.a.createElement(L.c,{path:"/Pallet/*",render:function(){return s.a.createElement(L.b,{to:"/Pallet"})}}))})),ae=t(138),te=t(137);function ne(e,a,t){fetch(V+"Platform/Android"+F({}),{method:"GET",credentials:"include"}).then(function(){var n=Object(o.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.ok||r.status!==h.a.OK){n.next=5;break}return n.next=3,r.json().then(function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(e.Language.Code),t.next=3,Promise.all([I("http://www.famo-code.com/Scripts/numeral/locales/pt-pt.js?version=2"),I("http://www.famo-code.com/Scripts/numeral/locales/es-es.js?version=2"),I("http://www.famo-code.com/Scripts/numeral/locales/fr.js?version=2")]);case 3:a.setAndroidApp(n),a.setAuthUser(e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){B(e),alert(t("key_416"))}));case 3:n.next=7;break;case 5:R(r),alert(t("key_303"));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){B(e),alert(t("key_416"))}))}function ce(e,a){oe.autoSignIn().then(function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ok||n.status!==h.a.OK){t.next=5;break}return t.next=3,n.json().then((function(t){ne(t,e,a)})).catch((function(e){B(e),alert(a("key_416"))}));case 3:t.next=7;break;case 5:R(n),alert(a("key_306"));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){B(e),alert(a("key_416"))}))}var oe=function e(){Object(d.a)(this,e)};oe.signIn=function(){var e=Object(o.a)(c.a.mark((function e(a,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(V+"Authentication/SignIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:t}),credentials:"include"}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),oe.autoSignIn=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(V+"Authentication/AutoSignIn"+F({}),{method:"GET",credentials:"include"}));case 1:case"end":return e.stop()}}),e)}))),oe.signOut=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(V+"Authentication/SignOut",{method:"GET",credentials:"include"}));case 1:case"end":return e.stop()}}),e)})));var re=t(103),se=t.n(re),le=t(210),me=t(212),ie=t(84);le.a.use(me.a).use(ie.e).init({lng:"pt",fallbackLng:"pt",whitelist:["pt","en","es","fr"],debug:!1,react:{},backend:{loadPath:"http://192.168.1.2:9070/JSON/i18n/{{lng}}.json"+F({}),crossDomain:!0}});var ue=function(e){Object(ae.a)(t,e);var a=Object(te.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).usernameRef=void 0,n.hideInputMsg=function(e){return"signin-error-input "+(e?"hide":"")},n.handleChangeInput=function(e){n.setState(Object(H.a)({},e.target.name,e.target.value))},n.handleUserInput=function(e){e.target.value||n.setState({hideUserMsg:"blur"!==e.type})},n.handlePwdInput=function(e){e.target.value||n.setState({hidePwdMsg:"blur"!==e.type})},n.handleSubmit=function(){var e=Object(o.a)(c.a.mark((function e(a){var t,o,r,s,l,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=K(),o=Object(i.a)(t,2),r=o[1],n.state.username&&n.state.password){e.next=6;break}n.setState({hideUserMsg:!!n.state.username,hidePwdMsg:!!n.state.password}),e.next=24;break;case 6:return e.next=8,oe.signIn(n.state.username,n.state.password);case 8:if(s=e.sent,l=n.props.t,n.setState({authError:!1,authHttpCode:-1}),!s.ok){e.next=20;break}return n.setState({authSuccess:!0}),e.t0=r,e.next=16,s.json();case 16:e.t1=e.sent,e.t0.setAuthUser.call(e.t0,e.t1),e.next=24;break;case 20:400!==(m=s.status)&&500!==m&&console.log(l("key_416")+" - "+m),n.usernameRef.current.focus(),n.setState({password:"",hidePwdMsg:!0,authError:!0,authHttpCode:m});case 24:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.state={username:"",password:"",hideUserMsg:!0,hidePwdMsg:!0,authSuccess:!1,authError:!1,authHttpCode:-1},n.usernameRef=s.a.createRef(),n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.usernameRef.current.focus()}},{key:"render",value:function(){var e=se()("famo-input signin-form-input famo-text-3",{"famo-input-error":!this.state.hideUserMsg}),a=se()("famo-input signin-form-input famo-text-3",{"famo-input-error":!this.state.hidePwdMsg}),t=se()("signin-error-submit",{hide:!this.state.authError}),n=this.props,c=n.t,o=n.location;return this.state.authSuccess?s.a.createElement(L.b,{to:o.state||{from:{pathname:"/"}}}):s.a.createElement("section",{className:"famo-grid signin"},s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell"},s.a.createElement("div",{className:"signin-body"},s.a.createElement("div",{className:"signin-famo-logo"},s.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black-normal.png",alt:"FAMO"})),s.a.createElement("div",{className:"signin-form"},s.a.createElement("div",{className:"signin-app-name"},s.a.createElement("span",{className:"famo-text-2"},"PDA")),s.a.createElement("form",{id:"signin-form",method:"POST",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"signin-input-wrapper"},s.a.createElement("input",{type:"text",id:"signin-username-input",className:e,placeholder:c("key_397"),ref:this.usernameRef,name:"username",value:this.state.username,autoComplete:"off",onChange:this.handleChangeInput,onFocus:this.handleUserInput,onBlur:this.handleUserInput}),s.a.createElement(fe,{msgClass:this.hideInputMsg(this.state.hideUserMsg),msgText:c("key_196")})),s.a.createElement("div",{className:"signin-input-wrapper"},s.a.createElement("input",{type:"password",id:"signin-password-input",className:a,placeholder:c("key_314"),name:"password",value:this.state.password,onChange:this.handleChangeInput,onFocus:this.handlePwdInput,onBlur:this.handlePwdInput}),s.a.createElement(fe,{msgClass:this.hideInputMsg(this.state.hidePwdMsg),msgText:c("key_195")})),s.a.createElement("div",{className:t},this.state.authError&&400===this.state.authHttpCode&&s.a.createElement("span",{className:"famo-text-7"},c("key_398")),this.state.authError&&500===this.state.authHttpCode&&s.a.createElement("span",{className:"famo-text-7"},c("key_306"))),s.a.createElement("button",{className:"famo-button famo-confirm-button signin-button-submit",type:"submit"},s.a.createElement("span",{className:"famo-text-5"},c("key_238"))),s.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button signup-button"},s.a.createElement("span",{className:"famo-text-27"},c("key_648")))))))),s.a.createElement("div",{className:"famo-row"},s.a.createElement("div",{className:"famo-cell famo-cell-bottom"},s.a.createElement("div",{className:"signin-footer text-center"},s.a.createElement("span",{className:"famo-text-1"},(new Date).getFullYear()," \xa9 FAMO - ","PDA")))))}}]),t}(s.a.Component),fe=function(e){Object(ae.a)(t,e);var a=Object(te.a)(t);function t(){return Object(d.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){var e=this.props,a=e.msgClass,t=e.msgText;return s.a.createElement("div",{className:a},s.a.createElement("span",{className:"famo-text-7"},t))}}]),t}(s.a.Component),de=(Object(Y.a)()(ue),t(59)),pe=t(209);t(434);function be(e){var a=e.t,t=Object(L.h)(),n=Object(L.i)(),l=K(),m=Object(i.a)(l,2),u=m[0],f=m[1],d=Object(r.useState)(!1),p=Object(i.a)(d,2),b=p[0],E=p[1],v=-1,N=null;function y(e){/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))||"Up"!==e.dir&&"Down"!==e.dir||(-1===v&&(N=e.event.path.some((function(e){var a=e.className;return!!a&&-1!==a.indexOf("famo-modal")}))?document.querySelector(".famo-modal"):document.querySelector("body"),v=N.scrollTop),N.scrollTop=v+e.deltaY)}return Object(r.useEffect)((function(){fetch(V+"Authentication/Session/User",{method:"GET",credentials:"include"}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==h.a.OK){e.next=5;break}return e.next=3,t.json().then((function(e){ne(e,f,a)})).catch((function(e){ce(f,a),B(e)}));case 3:e.next=7;break;case 5:ce(f,a),R(t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){ce(f,a),B(e)}))}),[]),Object(r.useEffect)((function(){E("/"!==n.pathname)}),[n.pathname]),s.a.createElement(pe.a,{trackMouse:!0,trackTouch:!1,onSwiping:function(e){return y(e)},onSwiped:function(e){return N=null,void(v=-1)}},s.a.createElement("section",{className:"famo-body"},s.a.createElement(L.e,null,s.a.createElement(L.c,{exact:!0,path:"/",render:function(){return s.a.createElement(W,null)}}),s.a.createElement(L.c,{path:"/Inventory",render:function(){return s.a.createElement(X,null)}}),s.a.createElement(L.c,{path:"/Pallet",render:function(){return s.a.createElement(ee,null)}}),s.a.createElement(L.c,{path:"/Expedition",render:function(){return s.a.createElement(J,null)}})),s.a.createElement(T,{hide:u.authUser&&!u.loadPage}),!u.androidApp&&b&&s.a.createElement("button",{type:"button",className:"famo-button famo-normal-button pda-back-button "+(u.authUser&&!u.loadPage?"":"hide"),onClick:function(e){return t.goBack()}},s.a.createElement("span",{className:"fas fa-arrow-left"}))))}var Ee=Object(Y.a)()((function(e){return s.a.createElement(de.a,{basename:"/"},s.a.createElement(be,e))}));function he(){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{document.getElementById("pda-footer").innerText=(new Date).getFullYear()+" \xa9 FAMO - PDA",m.a.render(s.a.createElement(r.Suspense,{fallback:s.a.createElement(T,{hide:!0})},s.a.createElement(Ee,null)),document.getElementById("root"))}catch(a){alert("Ouch!! Restart app!")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.cordova?document.addEventListener("deviceready",he,!1):he()}},[[214,1,2]]]);