(this["webpackJsonppda-client"]=this["webpackJsonppda-client"]||[]).push([[0],{310:function(e,a,t){e.exports=t(638)},509:function(e,a,t){},638:function(e,a,t){"use strict";t.r(a);var n=t(4),c=t.n(n),r=t(8),o=t(195),l=t(305);function s(e){var a="?timestamp="+(new Date).getTime();for(var t in e){var n=e[t];if(Array.isArray(n))for(var c=0,r=n.length;c<r;c++)a+="&"+t+"="+(null===n[c]?"":encodeURIComponent(n[c]));else a+="&"+t+"="+(null===n?"":encodeURIComponent(n))}return a}function m(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))}var i=t(111),u="file:"===window.location.protocol?"http://192.168.1.2:9070/":window.location.protocol+"//"+window.location.hostname+":9070/";o.a.use(l.a).use(i.e).init({lng:"pt",fallbackLng:"pt",whitelist:["pt","de","en","es","fr"],debug:!1,react:{},backend:{loadPath:"http://192.168.1.2:9070/JSON/i18n/{{lng}}.json"+s({}),crossDomain:!0}});o.a,t(313),t(322);var f=t(0),d=t.n(f),p=t(294),b=t.n(p),E=t(5),v=(t(306),t(509),t(88)),N=t(6),h=t(63),y=t(77),k=function(){function e(){Object(h.a)(this,e)}return Object(y.a)(e,null,[{key:"error",value:function(){new Audio("http://www.famo-code.com/FAMO.Rep/PDA/Sound/error.mp3").play()}}]),e}(),x=t(7),O=t.n(x),j=t(35),w=t.n(j);t(510),t(511),t(512),t(513);function g(e){return e?e.toString().replace(new RegExp("\\"+w.a.localeData().delimiters.thousands,"g"),"").replace(new RegExp("\\"+w.a.localeData().delimiters.decimal,"g"),"."):e}function _(){return(_=Object(r.a)(c.a.mark((function e(a,t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.current.selectionStart,r=t.current.value,110===a.keyCode&&(a.preventDefault(),t.current.value=r.substr(0,n)+w.a.localeData().delimiters.decimal+r.substr(n,r.length-1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){switch(e){case"POR":w.a.locale("pt-pt");break;case"DEU":w.a.locale("de");break;case"ENG":w.a.locale("en");break;case"ESP":w.a.locale("es-es");break;case"FRA":w.a.locale("fr")}}window.numeral=w.a;var S,D=t(644);!function(e){e[e.Text=1]="Text",e[e.Number=2]="Number",e[e.Checkbox=3]="Checkbox",e[e.Radio=4]="Radio",e[e.Select=100]="Select"}(S||(S={}));var P=d.a.forwardRef((function(e,a){var t=Object(D.a)().t,n=e.type,c=e.className,r=e.name,o=e.value,l=e.autoFocus,s=e.isDisabled,m=e.analyze,i=e.noData,u=e.wrongFormat,p=e.invalidValue,b=e.invalidMessage,v=e.set,h=e.children,y=Object(f.useState)({noData:!1,wrongFormat:!1,invalidValue:!1}),k=Object(E.a)(y,2),x=k[0],O=k[1];return Object(f.useEffect)((function(){if(m){var e=o;v((function(e){return Object(N.a)(Object(N.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!1})})),e?n===S.Number&&e&&(e=g(e),isNaN(e)?v((function(e){return Object(N.a)(Object(N.a)({},e),{},{noData:!1,wrongFormat:!0,invalidValue:!1})})):parseFloat(e)<=0&&v((function(e){return Object(N.a)(Object(N.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!0})}))):v((function(e){return Object(N.a)(Object(N.a)({},e),{},{noData:!0,wrongFormat:!1,invalidValue:!1})})),v((function(e){return Object(N.a)(Object(N.a)({},e),{},{localAnalyze:!0})}))}}),[m]),Object(f.useEffect)((function(){O({noData:i,wrongFormat:u,invalidValue:p})}),[i,u,p]),d.a.createElement(d.a.Fragment,null,(n===S.Text||n===S.Number)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("input",{ref:a,type:"text",className:c+(x.noData?" famo-input-error":x.wrongFormat||x.invalidValue?" famo-input-warning":""),name:r,value:o,autoFocus:l,disabled:s,onKeyDown:function(e){n===S.Number&&function(e,a){_.apply(this,arguments)}(e,a)},onChange:function(e){return v((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:a.current.value})}))}}),!s&&d.a.createElement("div",{className:"famo-input-message "+(x.wrongFormat?"":"hide")},d.a.createElement("span",{className:"famo-text-15"},t("key_808"))),b&&!s&&d.a.createElement("div",{className:"famo-input-message "+(x.invalidValue?"":"hide")},d.a.createElement("span",{className:"famo-text-15"},b))),n===S.Checkbox&&d.a.createElement("label",null,d.a.createElement("input",{ref:a,type:"checkbox",className:c,name:r,checked:o,disabled:s,onChange:function(e){return v((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:a.current.checked})}))}}),d.a.createElement("span",{className:"famo-checkbox"})),n===S.Select&&d.a.createElement("select",{ref:a,className:c+(x.noData?" famo-input-error":""),name:r,value:o,disabled:s,onChange:function(e){return v((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:a.current.value})}))}},h))})),T=function(){function e(){Object(h.a)(this,e)}return Object(y.a)(e,null,[{key:"analyze",value:function(e,a){e.forEach((function(e,t){e.type!==S.Text&&e.type!==S.Number&&e.type!==S.Select||e.isDisabled||a[t]((function(e){return Object(N.a)(Object(N.a)({},e),{},{analyze:!0})}))}))}},{key:"areAnalyzed",value:function(e){return!e.filter((function(e){return!e.isDisabled})).some((function(e){return!e.localAnalyze}))}},{key:"areValid",value:function(e){return!e.filter((function(e){return!e.isDisabled})).some((function(e){return e.noData||e.wrongFormat||e.invalidValue}))}},{key:"popUpAlerts",value:function(e,a){e.some((function(e){return e.noData}))&&I.noData(a),e.some((function(e){return e.wrongFormat}))&&I.wrongFormat(e.filter((function(e){return e.wrongFormat})).map((function(e){return e.label})),a),e.some((function(e){return e.invalidValue}))&&I.invalidValue(e.filter((function(e){return e.invalidValue})).map((function(e){return e.label})),a)}},{key:"resetValidations",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(N.a)(Object(N.a)({},e),{},{analyze:!1,localAnalyze:!1})}))}))}},{key:"resetValues",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:"",noData:!1,wrongFormat:!1,invalidValue:!1,analyze:!1,localAnalyze:!1})}))}))}}]),e}(),I=function(){function e(){Object(h.a)(this,e)}return Object(y.a)(e,null,[{key:"invalidValue",value:function(e,a){for(var t=a("key_192")+" ",n=0,c=e.length;n<c;n++)t+=e[n],n<c-2?t+=", ":n===c-2&&(t+=" "+a("key_573")+" ");alert(t)}},{key:"noData",value:function(e){alert(e("key_197"))}},{key:"wrongFormat",value:function(e,a){for(var t=a("key_191")+" ",n=0,c=e.length;n<c;n++)t+=e[n],n<c-2?t+=", ":n===c-2&&(t+=" "+a("key_573")+" ");alert(t)}}]),e}(),B=P,A=d.a.forwardRef((function(e,a){var t=e.visible,n=e.setVisible,c=e.visibleCallback,r=e.children,o=Object(D.a)().t,l=Object(f.useState)(t),s=Object(E.a)(l,2),m=s[0],i=s[1];return Object(f.useEffect)((function(){i(t)}),[t]),Object(f.useEffect)((function(){c&&c(m)}),[m]),d.a.createElement("section",{className:"w3-modal famo-modal "+(m?"w3-show":""),onClick:function(e){return n(!1)}},d.a.createElement("div",{className:"w3-modal-content famo-modal-content",onClick:function(e){return e.stopPropagation()}},r),d.a.createElement("div",{className:"famo-buttons"},d.a.createElement("button",{type:"button",className:"famo-button famo-icon-button",title:o("key_200"),onClick:function(e){return function(e){e.stopPropagation(),n(!1)}(e)}},d.a.createElement("span",{className:"fas fa-times"}))))})),F=t(142),R=t.n(F);var V=function(e){var a=e.text,t=Object(f.useState)(!1),n=Object(E.a)(t,2),c=n[0],r=n[1];return d.a.createElement("div",{className:"famo-title "+(c?"collapsed":"")},d.a.createElement("span",{className:"famo-text-13",onClick:function(e){r(!c)}},a))};function L(e){var a=e.hide;return d.a.createElement("div",{className:"pda-app-loader "+(a?"hide":"")},d.a.createElement("div",{className:"famo-loader"}))}function U(e){var a=e.hide;return d.a.createElement("div",{className:"famo-loader-wrapper "+(a?"hide":"")},d.a.createElement("div",{className:"famo-loader"}))}function K(e){fetch(u+"Log/Http/Errors?appName=pda&timestamp="+(new Date).getTime(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e.status,statusText:e.statusText,url:e.url}),credentials:"include"}).then((function(){})).catch((function(){}))}function z(e){fetch(u+"Log/Promise/Errors?appName=pda&timestamp="+(new Date).getTime(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.message,stack:e.stack,request:e.request?{method:e.request.method,path:e.request.path}:null,response:e.response?{status:e.response.status}:null}),credentials:"include"}).then((function(){})).catch((function(){}))}var G=t(23),W=function(){function e(){Object(h.a)(this,e)}return Object(y.a)(e,null,[{key:"clear",value:function(e){e?e.pallet||window.sessionStorage.removeItem("SS_PALLET"):window.sessionStorage.clear()}}]),e}(),M=t(304),q={setAndroidApp:function(e,a){e.setState(Object(N.a)(Object(N.a)({},e.state),{},{androidApp:a}))},setAuthUser:function(e,a){e.setState(Object(N.a)(Object(N.a)({},e.state),{},{authUser:a}))},setLoadPage:function(e,a){e.setState(Object(N.a)(Object(N.a)({},e.state),{},{loadPage:a}))}},J=Object(M.a)(d.a,{androidApp:!1,authUser:null,loadPage:!1},q);function H(e){var a=Object(D.a)().t,t=e.history,n=J(),o=Object(E.a)(n,2),l=o[0],m=o[1],i=Object(f.useState)(!1),p=Object(E.a)(i,2),b=p[0],v=p[1],h=[a("key_87"),a("key_138"),a("key_900"),a("key_896"),""],y=Object(f.useState)([]),k=Object(E.a)(y,2),x=k[0],j=k[1],w=Object(f.useState)([]),g=Object(E.a)(w,2),_=g[0],C=g[1],P=Object(f.useState)(null),I=Object(E.a)(P,2),F=I[0],R=I[1],L=Object(f.useState)(!1),G=Object(E.a)(L,2),M=G[0],q=G[1],H=Object(f.useState)(!1),Q=Object(E.a)(H,2),Y=Q[0],X=Q[1],Z=Object(f.useState)({ref:d.a.createRef(),type:S.Select,label:a("key_896"),className:"famo-input famo-text-10",name:"gateID",value:""}),$=Object(E.a)(Z,2),ee=$[0],ae=$[1],te=[ee],ne=[ae],ce=window.numeral;function re(){return fetch(u+"ERP/Shipments"+s({languageCode:l.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){j(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_303"))):(z(e),alert(a("key_416")))}))}function oe(){T.analyze(te,ne)}return Object(f.useEffect)((function(){m.setLoadPage(!0);var e=fetch(u+"Shipments/Gates"+s({languageCode:l.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){C(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_303"))):(z(e),alert(a("key_416")))}));Promise.all([re(),e]).finally((function(){m.setLoadPage(!1)})),W.clear()}),[]),Object(f.useEffect)((function(){T.areAnalyzed(te)&&(T.areValid(te)?(v(!0),fetch(u+"Shipments"+s({}),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:F,gateID:ee.value}),credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=9;break}return e.next=3,re();case 3:q(!1),R(null),v(!1),M&&t.push("/Expedition/Edit?shipmentCode="+F),e.next=10;break;case 9:throw a;case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_302"))):(z(e),alert(a("key_416"))),q(!1),R(null),v(!1)})),X(!1)):T.popUpAlerts(te,a),T.resetValidations(te,ne))}),te),Object(f.useEffect)((function(){Y||ae((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:""})}))}),[Y]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_878")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!b}),d.a.createElement("div",{className:"famo-grid famo-content-grid shipments "+(b?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},h.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),x.map((function(e,n){return d.a.createElement("div",{key:n,className:"famo-row famo-body-row",onClick:function(a){var n;-1===(n=e).Gate.ID?(q(!0),R(n.Code),X(!0)):t.push("/Expedition/Edit?shipmentCode="+n.Code)}},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+(e.Description?"":"famo-color-yellow")},e.Description?e.Description:a("key_237"))),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10"},ce(e.PickedBoxes).format("0,0")+"/"+ce(e.TotalBoxes).format("0,0"))),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+(-1===e.Gate.ID?"famo-color-yellow":"")},-1===e.Gate.ID?"n/a":e.Gate.Label)),d.a.createElement("div",{className:"famo-cell famo-col-5"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:function(a){return function(e,a){e.stopPropagation(),q(!1),R(a.Code),ae((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:a.Gate.ID})})),X(!0)}(a,e)}},d.a.createElement("span",{className:"fas fa-truck-loading"}))))}))))),d.a.createElement(A,{visible:Y,setVisible:X,visibleCallback:function(e){e||T.resetValues(te,ne)}},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),oe()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},ee.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},ee,{set:ae}),d.a.createElement("option",{key:-1,value:""}),_.map((function(e,a){return d.a.createElement("option",{key:a,value:e.ID},e.Label)}))))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return oe()}},d.a.createElement("span",{className:"famo-text-12"},a("key_701"))),d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return X(!1)}},d.a.createElement("span",{className:"famo-text-12"},a("key_484"))))))))))}function Q(e){var a=Object(D.a)().t,t=e.history,n=e.location,o=J(),l=Object(E.a)(o,2),m=l[0],i=l[1],p=R.a.parse(n.search).shipmentCode,b=Object(f.useState)({type:S.Text,label:a("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:p.toString(),isDisabled:!0}),h=Object(E.a)(b,2),y=h[0],x=h[1],j=Object(f.useState)({type:S.Text,label:a("key_138"),className:"famo-input famo-text-10",name:"boxCode",value:"",isDisabled:!0}),w=Object(E.a)(j,2),g=w[0],_=w[1],C=Object(f.useState)({ref:d.a.createRef(),type:S.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),P=Object(E.a)(C,2),T=P[0],I=P[1],F=Object(f.useState)({ref:d.a.createRef(),type:S.Checkbox,label:a("key_901"),className:"famo-input",name:"unload",value:!1}),L=Object(E.a)(F,2),M=L[0],q=L[1],H=Object(f.useState)(!1),Q=Object(E.a)(H,2),Y=Q[0],X=Q[1],Z=Object(f.useState)(""),$=Object(E.a)(Z,2),ee=$[0],ae=$[1],te=[a("key_179"),a("key_54"),a("key_900")],ne=Object(f.useState)([]),ce=Object(E.a)(ne,2),re=ce[0],oe=ce[1],le=[a("key_820"),""],se=Object(f.useState)([]),me=Object(E.a)(se,2),ie=me[0],ue=me[1],fe=Object(f.useState)(!1),de=Object(E.a)(fe,2),pe=de[0],be=de[1],Ee=Object(f.useState)(!1),ve=Object(E.a)(Ee,2),Ne=ve[0],he=ve[1],ye=[a("key_87"),a("key_138"),a("key_899"),a("key_892"),""],ke=Object(f.useState)([[]]),xe=Object(E.a)(ke,2),Oe=xe[0],je=xe[1],we=window.numeral;function ge(e){m.androidApp?alert(e):(k.error(),ae(e))}function _e(){if(T.value.startsWith("PL")){var e=T.value.match(/PL.*?(\/|\-)/g);X(!0),fetch(u+"ERP/Pallets/Boxes"+s({shipmentCode:p,palletID:e?parseInt(e[0].replace("PL","").replace("/","").replace("-","")):-1}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){ae(""),ue([].concat(Object(v.a)(e.filter((function(e){return!ie.some((function(a){return a.Code===e.Code}))}))),Object(v.a)(ie)))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),ge(e.status===O.a.NOT_FOUND?a("key_873"):a("key_303"))):(z(e),ge(a("key_416")))})).finally((function(){X(!1),Ce()}))}else ie&&ie.some((function(e){return e.Code===T.value}))?(Ce(),ge(a("key_874"))):(X(!0),fetch(u+"ERP/Shipments/Boxes"+s({shipmentCode:p,boxCode:T.value,unload:M.value}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){ae(""),ue([e].concat(Object(v.a)(ie)))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}if(K(t),t.status!==O.a.NOT_FOUND){e.next=6;break}ge(a("key_872")),e.next=12;break;case 6:if(t.status!==O.a.FORBIDDEN){e.next=11;break}return e.next=9,t.json().then((function(e){"box"===e.reason?ge(M.value?a("key_882"):a("key_871")):"pallet"===e.reason&&ge(a("key_828"))})).catch((function(e){z(e),ge(a("key_416"))}));case 9:e.next=12;break;case 11:ge(a("key_303"));case 12:e.next=16;break;case 14:z(t),ge(a("key_416"));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){X(!1),Ce()})))}function Ce(){I((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:""})})),T.ref.current.focus()}function Se(){return fetch(u+"ERP/Shipments/Products"+s({shipmentCode:p}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){oe(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_303"))):(z(e),alert(a("key_416")))}))}function De(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.querySelector(".fas").classList.remove("hide"),e.querySelector('span[class*="famo-text-"]').classList.add("hide"),fetch(u+"ERP/Shipments/Products/Components"+s({orderCode:t,orderLine:n,languageCode:m.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){he(!0),je(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_303"))):(z(e),alert(a("key_416")))})).finally((function(){e.querySelector(".fas").classList.add("hide"),e.querySelector('span[class*="famo-text-"]').classList.remove("hide")}))}return Object(f.useEffect)((function(){i.setLoadPage(!0);var e=fetch(u+"ERP/Shipments"+s({code:p}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){_((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.Description})}))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(e.status===O.a.NOT_FOUND?a("key_825"):a("key_303")),t.replace("/Expedition")):(z(e),alert(a("key_416")))}));Promise.all([e,Se()]).finally((function(){i.setLoadPage(!1)})),setInterval((function(){Se()}),1e4),W.clear()}),[]),Object(f.useEffect)((function(){ue([])}),[M]),d.a.createElement(d.a.Fragment,null,d.a.createElement(G.a,{when:ie.length>0,message:a("key_881")}),d.a.createElement("section",{className:"container famo-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),_e()}},!m.androidApp&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},y.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},y,{set:x})))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},g.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},g,{set:_}))))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},T.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},T,{isDisabled:Y||pe,set:I})))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},M.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},M,{isDisabled:Y||pe,set:q})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("div",{className:"form-message"},d.a.createElement("span",{className:"famo-text-11 famo-color-red "+(ee?"":"hide")},ee)),d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:Y||pe,onClick:function(e){return Ce()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!m.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:Y||pe,onClick:function(e){return _e()}},d.a.createElement("span",{className:"famo-text-12"},a("key_815"))))))))),!m.androidApp&&d.a.createElement("div",{className:"col-12 col-xl-4"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_820")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!pe}),d.a.createElement("div",{className:"famo-grid rating-panel "+(pe?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23 famo-color-green"},we(re.reduce((function(e,a){return 1===a.ShipmentStatus?e+a.TotalBoxes:e}),0)).format("0,0")),d.a.createElement("span",{className:"famo-text-23"},"/"+we(re.reduce((function(e,a){return e+a.TotalBoxes}),0)).format("0,0"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!pe}),d.a.createElement("div",{className:"famo-grid rating-panel "+(pe?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23 famo-color-green"},we(re.reduce((function(e,a){return 1===a.ShipmentStatus?e+a.ProductVolume:e}),0)).format("0,0.00")),d.a.createElement("span",{className:"famo-text-23"},"/"+we(re.reduce((function(e,a){return e+a.ProductVolume}),0)).format("0,0.00")+" m\xb3"))))))))),d.a.createElement("section",{className:"container famo-wrapper expedition-details"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-5"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_876")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!pe}),d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(pe?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},te.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===te.length-1?"text-center":"")},d.a.createElement("span",{className:"famo-text-11"},e))}))),re.filter((function(e){return 0===e.ShipmentStatus})).map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button text-left",onClick:function(a){return De(a.currentTarget,e.OrderCode)}},d.a.createElement("span",{className:"fas fa-spinner fa-spin "+(e.PendingBoxes>0?"famo-color-red":"")+" hide"}),d.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.OrderCode))),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("p",null,d.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.ProductCode)),d.a.createElement("p",null,d.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},e.ProductDescription))),d.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},d.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button",onClick:function(a){return De(a.currentTarget,e.OrderCode,e.OrderLine)}},d.a.createElement("span",{className:"fas fa-spinner fa-spin "+(e.PendingBoxes>0?"famo-color-red":"")+" hide"}),d.a.createElement("span",{className:"famo-text-10 "+(e.PendingBoxes>0?"famo-color-red":"")},we(e.PendingBoxes).format("0,0"),"/",we(e.TotalBoxes).format("0,0")))))})))))),d.a.createElement("div",{className:"col-12 col-xl-2"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_879")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!Y&&!pe}),d.a.createElement("div",{className:"famo-grid "+(Y||pe?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button famo-confirm-button button-save-boxes",disabled:Y||pe||0===ie.length,onClick:function(e){return be(!0),void fetch(u+"ERP/Shipments/Boxes"+s({shipmentCode:p,unload:M.value}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie.map((function(e){return e.Code}))),credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){ae(""),ue([]),oe(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_302"))):(z(e),alert(a("key_416")))})).finally((function(){be(!1),Ce()}))}},d.a.createElement("span",{className:"famo-text-12"},a("key_220")))))),d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-boxes "+(Y||pe?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},le.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e+(0===a?" ("+we(ie.length).format("0,0")+")":"")))}))),ie.map((function(e,t){return d.a.createElement("div",{key:t,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10 "+(M.value?"famo-color-red":"")},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(t){return n=e.Code,void(window.confirm(a("key_880"))&&ue(ie.filter((function(e){return e.Code!==n}))));var n}},d.a.createElement("span",{className:"fas fa-trash-alt"}))))})))))),d.a.createElement("div",{className:"col-12 col-xl-5"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_875")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!pe}),d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(pe?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},te.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===te.length-1?"text-center":"")},d.a.createElement("span",{className:"famo-text-11"},e))}))),re.filter((function(e){return 1===e.ShipmentStatus})).map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("p",null,d.a.createElement("span",{className:"famo-text-10"},e.ProductCode)),d.a.createElement("p",null,d.a.createElement("span",{className:"famo-text-10"},e.ProductDescription))),d.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},d.a.createElement("span",{className:"famo-text-10"},we(e.TotalBoxes).format("0,0"))))})))))))),d.a.createElement(A,{visible:Ne,setVisible:he},Oe.filter((function(e){return e.length>0})).map((function(e,t){var n=e[0].ProductCode,c=e[0].ProductDescription;return d.a.createElement("section",{key:t,className:"famo-wrapper"},d.a.createElement(V,{text:n+" - "+c}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-components"},d.a.createElement("div",{className:"famo-row famo-header-row"},ye.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),e.map((function(e,t){return d.a.createElement("div",{key:t,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.ComponentCode)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+(e.ComponentDescription?"":"famo-color-yellow")},e.ComponentDescription?e.ComponentDescription:a("key_237"))),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10"},e.BoxCode)),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+(-1===e.Bin.ID?"famo-color-yellow":"")},-1===e.Bin.ID?"n/a":e.Bin.Code)),d.a.createElement("div",{className:"famo-cell famo-col-5"},d.a.createElement("span",{className:"fas "+(e.BoxPrinted?"fa-check famo-color-green":"fa-times famo-color-red")})))})))))}))))}var Y=Object(G.j)((function(){return d.a.createElement(G.e,null,d.a.createElement(G.c,{exact:!0,path:"/Expedition",render:function(e){return d.a.createElement(H,e)}}),d.a.createElement(G.c,{exact:!0,path:"/Expedition/Edit",render:function(e){return d.a.createElement(Q,e)}}),d.a.createElement(G.c,{path:"/Expedition/*",render:function(){return d.a.createElement(G.b,{to:"/Expedition"})}}))})),X=t(51);var Z=Object(G.j)((function(e){var a=Object(D.a)().t,t=[{label:a("key_894"),image:"btn-armazem.png",url:"/Warehouse"},{label:a("key_877"),image:"btn-expedicao.png",url:"/Expedition"},{label:a("key_826"),image:"btn-palete.png",url:"/Pallet"},{label:a("key_806"),image:"btn-inventario.png",url:"/Inventory"}];return Object(f.useEffect)((function(){W.clear()}),[]),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row",style:{justifyContent:"center"}},t.map((function(e,a){return d.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},d.a.createElement(X.b,{to:e.url},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-menu-item"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-menu-item-label text-center"},d.a.createElement("span",{className:"famo-text-19",title:e.label},e.label))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-menu-item-img text-center"},d.a.createElement("img",{src:u+"Images/"+e.image,alt:e.label}))))))))}))))}));function $(e,a){function t(e){e.preventDefault(),document.removeEventListener("backbutton",t,!1)}document.addEventListener("backbutton",t,!1),window.cordova.plugins.barcodeScanner.scan((function(a){a.cancelled||(e(a),document.removeEventListener("backbutton",t,!1))}),(function(e){alert(a("key_686"))}),{preferFrontCamera:!1,showFlipCameraButton:!1,showTorchButton:!0,torchOn:!1,saveHistory:!1,prompt:"",resultDisplayDuration:0,formats:"CODE_39,CODE_128",orientation:"unset",disableAnimations:!0,disableSuccessBeep:!1,continuousMode:!1})}var ee=Object(G.j)((function(e){var a=Object(D.a)().t,t=J(),n=Object(E.a)(t,2),o=n[0],l=n[1],m=Object(f.useState)([]),i=Object(E.a)(m,2),p=i[0],b=i[1],v=Object(f.useState)({ref:d.a.createRef(),type:S.Select,label:a("key_806"),className:"famo-input famo-text-10",name:"inventoryCode",value:""}),h=Object(E.a)(v,2),y=h[0],k=h[1],x=[y],j=Object(f.useState)(!1),w=Object(E.a)(j,2),_=w[0],C=w[1],P=Object(f.useState)(),I=Object(E.a)(P,2),F=I[0],R=I[1],L=Object(f.useState)({type:S.Text,label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:"",isDisabled:!0}),G=Object(E.a)(L,2),M=G[0],q=G[1],H=Object(f.useState)({type:S.Text,label:a("key_464"),className:"famo-input famo-text-10",name:"productVariantCode",value:"",isDisabled:!0}),Q=Object(E.a)(H,2),Y=Q[0],X=Q[1],Z=Object(f.useState)({type:S.Text,label:a("key_138"),className:"famo-input famo-text-10",name:"productDescription",value:"",isDisabled:!0}),ee=Object(E.a)(Z,2),ae=ee[0],te=ee[1],ne=Object(f.useState)({type:S.Text,label:a("key_751"),className:"famo-input famo-text-10",name:"locationCode",value:"",isDisabled:!0}),ce=Object(E.a)(ne,2),re=ce[0],oe=ce[1],le=Object(f.useState)({ref:d.a.createRef(),type:S.Number,label:a("key_347"),className:"famo-input famo-text-10",name:"quantity",value:"",invalidMessage:a("key_13")}),se=Object(E.a)(le,2),me=se[0],ie=se[1],ue=[M,Y,ae,re,me],fe=[q,X,te,oe,ie],de=Object(f.useState)(!1),pe=Object(E.a)(de,2),be=pe[0],Ee=pe[1],ve=Object(f.useState)({ref:d.a.createRef(),type:S.Text,label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:""}),Ne=Object(E.a)(ve,2),he=Ne[0],ye=Ne[1],ke=[he],xe=[ye];function Oe(e){var t=e.split("/"),n=t[0],o="";t.length>1&&(o=t[1]),C(!0),fetch(u+"ERP/Inventories/Lines"+s({inventoryCode:y.value,productCode:n,productVariantCode:o}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){R(e),q((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.ProductCode})})),X((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.ProductVariantCode})})),te((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.ProductDescription})})),oe((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.LocationCode})}))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(e.status===O.a.NOT_FOUND?a("key_809"):a("key_303"))):(z(e),alert(a("key_416"))),R(null),T.resetValues(ue,fe)})).finally((function(){C(!1)}))}function je(){T.analyze(ue,fe)}function we(){T.analyze(ke,xe)}return Object(f.useEffect)((function(){l.setLoadPage(!0),fetch(u+"ERP/Inventories"+s({}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){b(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_303"))):(z(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)})),W.clear()}),[]),Object(f.useEffect)((function(){R(null),T.resetValues(ue,fe)}),x),Object(f.useEffect)((function(){T.areAnalyzed(ue)&&(T.areValid(ue)?(C(!0),fetch(u+"ERP/Inventories/Lines"+s({}),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:F.Code,productCode:F.ProductCode,productVariantCode:F.ProductVariantCode,locationCode:F.LocationCode,quantity:me.type!==S.Number?me.value:parseFloat(g(me.value))}),credentials:"include"}).then((function(e){if(!e.ok||e.status!==O.a.OK)throw e;R(null),T.resetValues(ue,fe),alert(a("key_805"))})).catch((function(e){e?(K(e),alert(a("key_302"))):(z(e),alert(a("key_416")))})).finally((function(){C(!1)}))):T.popUpAlerts(ue,a),T.resetValidations(ue,fe))}),ue),Object(f.useEffect)((function(){T.areAnalyzed(ke)&&(T.areValid(ke)?(Oe(he.value),Ee(!1)):(he.ref.current.focus(),T.popUpAlerts(ke,a)),T.resetValidations(ke,xe))}),ke),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:function(e){return e.preventDefault()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},y.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},y,{isDisabled:_,set:k}),d.a.createElement("option",{key:""}),p.map((function(e,a){return d.a.createElement("option",{key:a,value:e.Code},e.Name)})))))),y.value&&d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:_,onClick:function(e){return Ee(!0)}},d.a.createElement("span",{className:"famo-text-12"},a("key_807"))),o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:_,onClick:function(e){$((function(e){Oe(e.text)}),a)}},d.a.createElement("span",{className:"famo-text-12"},a("key_681")))))))),(_||F)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_339")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!_}),d.a.createElement("form",{className:"famo-grid famo-form-grid "+(_?"hide":""),noValidate:!0,onSubmit:function(e){e.preventDefault(),je()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},M.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,M))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},Y.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Y))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},ae.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,ae))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},re.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,re))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},me.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},me,{set:ie}))))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(_?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return je()}},d.a.createElement("span",{className:"famo-text-12"},a("key_220")))))))),d.a.createElement(A,{visible:be,setVisible:Ee,visibleCallback:function(e){e?he.ref.current.focus():T.resetValues(ke,xe)}},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),we()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},he.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},he,{set:ye})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return we()}},d.a.createElement("span",{className:"famo-text-12"},a("key_701"))),d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return Ee(!1)}},d.a.createElement("span",{className:"famo-text-12"},a("key_484"))))))))))}));function ae(e){var a=Object(D.a)().t,t=e.history,n=J(),o=Object(E.a)(n,1)[0],l=window.sessionStorage.getItem("SS_PALLET"),m=Object(f.useState)({ref:d.a.createRef(),type:S.Text,label:a("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:l?JSON.parse(window.sessionStorage.getItem("SS_PALLET")).shipmentCode:"",autoFocus:!0}),i=Object(E.a)(m,2),p=i[0],b=i[1],v=Object(f.useState)(null),h=Object(E.a)(v,2),y=h[0],k=h[1],x=Object(f.useState)(!1),j=Object(E.a)(x,2),w=j[0],g=j[1],_=[a("key_279")],C=Object(f.useState)(null),P=Object(E.a)(C,2),T=P[0],I=P[1];function A(e){g(!0),fetch(u+"ERP/Pallets"+s({shipmentCode:e}),{method:"GET",credentials:"include"}).then(function(){var a=Object(r.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.ok||t.status!==O.a.OK){a.next=5;break}return a.next=3,t.json().then((function(a){k(e),I(a),g(!1)}));case 3:a.next=6;break;case 5:throw t;case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(e.status===O.a.NOT_FOUND?a("key_825"):a("key_303"))):(z(e),alert(a("key_416"))),k(null),I(null),g(!1),F()}))}function F(){b((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:""})})),p.ref.current.focus()}function R(e){window.sessionStorage.setItem("SS_PALLET",JSON.stringify({shipmentCode:y})),t.push("/Pallet/Edit?shipmentCode="+y+(e?"&palletID="+e:""))}return Object(f.useEffect)((function(){l&&A(p.value),W.clear()}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:function(e){e.preventDefault(),A(p.value)}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},p.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},p,{set:b})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w,onClick:function(e){$((function(e){b((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.text})})),A(e.text)}),a)}},d.a.createElement("span",{className:"famo-text-12"},a("key_681"))),d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w,onClick:function(e){return F()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w,onClick:function(e){return A(p.value)}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(w||T)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_826")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!w}),d.a.createElement("div",{className:"famo-grid famo-content-grid pallets "+(w?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},_.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),T&&T.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row",onClick:function(a){return R(e.ID)}},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.ID)))}))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(w?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:function(e){return R()}},d.a.createElement("span",{className:"famo-text-12"},a("key_817")))))))))}function te(e){var a=Object(D.a)().t,t=e.location,n=e.history,o=J(),l=Object(E.a)(o,2),m=l[0],i=l[1],p=R.a.parse(t.search),b=Object(f.useState)(p.palletID),h=Object(E.a)(b,2),y=h[0],x=h[1],j=Object(f.useState)(!0),w=Object(E.a)(j,2),g=w[0],_=w[1],C=Object(f.useState)(!1),P=Object(E.a)(C,2),I=P[0],F=P[1],L=[a("key_87"),a("key_179"),""],M=Object(f.useState)([]),q=Object(E.a)(M,2),H=q[0],Q=q[1],Y=Object(f.useState)(!1),X=Object(E.a)(Y,2),Z=X[0],ee=X[1],ae=Object(f.useState)(!1),te=Object(E.a)(ae,2),ne=te[0],ce=te[1],re=Object(f.useState)(!1),oe=Object(E.a)(re,2),le=oe[0],se=oe[1],me=Object(f.useState)(!1),ie=Object(E.a)(me,2),ue=ie[0],fe=ie[1],de=Object(f.useState)({ref:d.a.createRef(),type:S.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),pe=Object(E.a)(de,2),be=pe[0],Ee=pe[1],ve=[be],Ne=[Ee],he=Object(f.useState)(""),ye=Object(E.a)(he,2),ke=ye[0],xe=ye[1];function Oe(e){m.androidApp?alert(e):(xe(e),k.error())}function je(e){H.some((function(a){return a.Code===e}))?(T.resetValues(ve,Ne),be.ref.current.focus(),Oe(a("key_814"))):(ee(!0),fetch(u+"ERP/Shipments/Boxes"+s({shipmentCode:p.shipmentCode,boxCode:e}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){xe(""),e.IsNew=!0,Q([].concat(Object(v.a)(H),[e]))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}if(K(t),t.status!==O.a.NOT_FOUND){e.next=6;break}Oe(a("key_872")),e.next=12;break;case 6:if(t.status!==O.a.FORBIDDEN){e.next=11;break}return e.next=9,t.json().then((function(e){"box"===e.reason?Oe(a("key_871")):"pallet"===e.reason&&Oe(a("key_828"))})).catch((function(e){z(e),Oe(a("key_416"))}));case 9:e.next=12;break;case 11:Oe(a("key_303"));case 12:e.next=16;break;case 14:z(t),Oe(a("key_416"));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){ee(!1),T.resetValues(ve,Ne),be.ref.current.focus()})))}function we(){T.analyze(ve,Ne)}return Object(f.useEffect)((function(){p.palletID&&(i.setLoadPage(!0),fetch(u+"ERP/Pallets/Boxes"+s({shipmentCode:p.shipmentCode,palletID:p.palletID}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){F(e.some((function(e){return e.IsShipped}))),_(e.some((function(e){return e.IsPalletOpen}))),e.forEach((function(e){e.IsNew=!1})),Q(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(e.status===O.a.NOT_FOUND?a("key_873"):a("key_303")),n.replace("/Pallet")):(z(e),alert(a("key_416")))})).finally((function(){i.setLoadPage(!1)}))),W.clear({pallet:!0})}),[]),Object(f.useEffect)((function(){T.areAnalyzed(ve)&&(T.areValid(ve)&&je(be.value),T.resetValidations(ve,Ne))}),ve),p.shipmentCode?d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_820")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!ne}),d.a.createElement("div",{className:"famo-grid famo-content-grid pallet-boxes "+(ne?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},L.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),H.map((function(e,t){return d.a.createElement("div",{key:t,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10"},e.IsNew&&d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(t){return n=e.Code,void(window.confirm(a("key_880"))&&Q(H.filter((function(e){return e.Code!==n}))));var n}},d.a.createElement("span",{className:"fas fa-trash-alt"})))))}))),!I&&g&&d.a.createElement("div",{className:"famo-grid famo-buttons "+(ne?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:Z||le,onClick:function(e){return fe(!0)}},d.a.createElement("span",{className:"famo-text-12"},a("key_815")+" ("+a("key_807").toLowerCase()+")")),m.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:Z||le,onClick:function(e){$((function(e){Ee((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.text})})),je(e.text)}),a)}},d.a.createElement("span",{className:"famo-text-12"},a("key_815")+" ("+a("key_681").toLowerCase()+")"))))))),H.length>0&&!I&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},g&&d.a.createElement(d.a.Fragment,null,H.some((function(e){return e.IsNew}))&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:Z||ne||le,onClick:function(e){return ce(!0),void fetch(u+"ERP/Pallets"+s({shipmentCode:p.shipmentCode,palletID:y||null}),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H.filter((function(e){return e.IsNew})).map((function(e){return e.Code}))),credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=6;break}return e.next=3,a.json().then((function(e){x(e.palletID)}));case 3:Q(H.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{IsNew:!1})}))),e.next=7;break;case 6:throw a;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_302"))):(z(e),alert(a("key_416")))})).finally((function(){ce(!1)}))}},d.a.createElement("span",{className:"famo-text-12"},a("key_220")))),y&&d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button famo-loader-button",disabled:Z||ne||le,onClick:function(e){g&&H.some((function(e){return e.IsNew}))?alert(a("key_821")):(se(!0),fetch(u+"ERP/Pallets/"+(g?"Close":"Reopen")+s(g?{shipmentCode:p.shipmentCode,palletID:y}:{palletID:y}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H.map((function(e){return e.Code}))),credentials:"include"}).then((function(e){if(!e.ok||e.status!==O.a.OK)throw e;_(!g),alert(a(g?"key_812":"key_813"))})).catch((function(e){e?(K(e),alert(a("key_302"))):(z(e),alert(a("key_416")))})).finally((function(){se(!1)})))}},d.a.createElement("span",{className:"fas fa-spinner fa-spin "+(le?"":" hide")}),d.a.createElement("span",{className:"famo-text-12 "+(le?"hide":"")},a(g?"key_200":"key_827"))))))),d.a.createElement(A,{visible:ue,setVisible:fe,visibleCallback:function(e){e?be.ref.current.focus():(T.resetValues(ve,Ne),xe(""))}},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),we()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},be.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},be,{set:Ee})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("div",{className:"form-message"},d.a.createElement("span",{className:"famo-text-11 famo-color-red "+(ke?"":"hide")},ke)),d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return we()}},d.a.createElement("span",{className:"famo-text-12"},a("key_701"))),d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return fe(!1)}},d.a.createElement("span",{className:"famo-text-12"},a("key_484")))))))))):d.a.createElement(G.b,{to:"/Pallet"})}var ne=Object(G.j)((function(){return d.a.createElement(G.e,null,d.a.createElement(G.c,{exact:!0,path:"/Pallet",render:function(e){return d.a.createElement(ae,e)}}),d.a.createElement(G.c,{exact:!0,path:"/Pallet/Edit",render:function(e){return d.a.createElement(te,e)}}),d.a.createElement(G.c,{path:"/Pallet/*",render:function(){return d.a.createElement(G.b,{to:"/Pallet"})}}))})),ce=t(52),re=t.n(ce);t(533),t(534),t(535),t(536);function oe(e){switch(e){case"POR":re.a.locale("pt");break;case"DEU":re.a.locale("de");break;case"ENG":re.a.locale("en");break;case"ESP":re.a.locale("es");break;case"FRA":re.a.locale("fr")}}function le(e,a,t){return se.apply(this,arguments)}function se(){return(se=Object(r.a)(c.a.mark((function e(a,t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"Platform/Android"+s({}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.ok||n.status!==O.a.OK){e.next=5;break}return e.next=3,n.json().then(function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&(oe(a.Language.Code),C(a.Language.Code)),t.setAndroidApp(n),t.setAuthUser(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw n;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(n("key_303"))):(z(e),alert(n("key_416")))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,a){return ie.apply(this,arguments)}function ie(){return(ie=Object(r.a)(c.a.mark((function e(a,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.autoSignIn().then(function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.ok||n.status!==O.a.OK){e.next=5;break}return e.next=3,n.json().then(function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(n,a,t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){z(e),alert(t("key_416"))}));case 3:e.next=7;break;case 5:K(n),alert(t("key_306"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){z(e),alert(t("key_416"))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.moment=re.a;var ue=function e(){Object(h.a)(this,e)};ue.signIn=function(){var e=Object(r.a)(c.a.mark((function e(a,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(u+"Authentication/SignIn"+s({}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:t}),credentials:"include"}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ue.autoSignIn=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(u+"Authentication/AutoSignIn"+s({}),{method:"GET",credentials:"include"}));case 1:case"end":return e.stop()}}),e)}))),ue.signOut=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(u+"Authentication/SignOut"+s({}),{method:"GET",credentials:"include"}));case 1:case"end":return e.stop()}}),e)})));var fe,de=d.a.forwardRef((function(e,a){var t=e.className,n=e.text;return d.a.createElement("div",{className:t},d.a.createElement("span",{className:"famo-text-7"},n))})),pe=(Object(G.j)((function(e){var a,t=e.location,n=Object(D.a)().t,o=J(),l=Object(E.a)(o,2),s=l[0],m=l[1],i=Object(f.useState)({username:"",password:"",usernameErrorMsg:!1,passwordErrorMsg:!1,authError:!1,authHttpCode:-1}),u=Object(E.a)(i,2),p=u[0],b=u[1],v=Object(f.useState)(!1),h=Object(E.a)(v,2),y=h[0],k=h[1],x=d.a.createRef();function j(e){p.username||(e.persist(),b((function(a){return Object(N.a)(Object(N.a)({},a),{},{usernameErrorMsg:"blur"===e.type})})))}function w(e){p.password||(e.persist(),b((function(a){return Object(N.a)(Object(N.a)({},a),{},{passwordErrorMsg:"blur"===e.type})})))}function g(){return(g=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),k(!0),p.username&&p.password){e.next=6;break}b((function(e){return Object(N.a)(Object(N.a)({},e),{},{usernameErrorMsg:!p.username,passwordErrorMsg:!p.password})})),e.next=9;break;case 6:return b((function(e){return Object(N.a)(Object(N.a)({},e),{},{authError:!1,authHttpCode:-1})})),e.next=9,ue.signIn(p.username,p.password).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(a,m,n);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),b((function(a){return Object(N.a)(Object(N.a)({},a),{},{password:"",passwordErrorMsg:!1,authError:!0,authHttpCode:e.status})})),e.status!==O.a.BAD_REQUEST&&e.status!==O.a.INTERNAL_SERVER_ERROR&&console.log(n("key_416")+" - "+e.status)):(z(e),alert(n("key_416")))}));case 9:k(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){p.authError&&x.current.focus()}),[p.authError]),!y&&s.authUser?d.a.createElement(G.b,{to:(null===(a=t.state)||void 0===a?void 0:a.from)||{pathname:"/"}}):d.a.createElement("section",{className:"famo-grid signin"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"signin-body"},d.a.createElement("div",{className:"signin-famo-logo"},d.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})),d.a.createElement("div",{className:"signin-container"},d.a.createElement("div",{className:"signin-app-name"},d.a.createElement("span",{className:"famo-text-2"},"PDA")),d.a.createElement("div",{className:"famo-loader-wrapper "+(y?"":"hide")},d.a.createElement("div",{className:"famo-loader"})),d.a.createElement("form",{className:y?"hide":"",onSubmit:function(e){return function(e){return g.apply(this,arguments)}(e)}},d.a.createElement("div",{className:"signin-input"},d.a.createElement("input",{type:"text",className:"famo-input famo-text-3 "+(p.usernameErrorMsg?"famo-input-error":""),placeholder:n("key_397"),ref:x,name:"username",value:p.username,autoComplete:"off",autoFocus:!0,onChange:function(e){return function(e){e.persist(),b((function(a){return Object(N.a)(Object(N.a)({},a),{},{username:e.target.value})}))}(e)},onFocus:function(e){return j(e)},onBlur:function(e){return j(e)}}),d.a.createElement(de,{className:"signin-input-error "+(p.usernameErrorMsg?"":"hide"),text:n("key_196")})),d.a.createElement("div",{className:"signin-input"},d.a.createElement("input",{type:"password",className:"famo-input famo-text-3 "+(p.passwordErrorMsg?"famo-input-error":""),placeholder:n("key_314"),name:"password",value:p.password,onChange:function(e){return function(e){e.persist(),b((function(a){return Object(N.a)(Object(N.a)({},a),{},{password:e.target.value})}))}(e)},onFocus:function(e){return w(e)},onBlur:function(e){return w(e)}}),d.a.createElement(de,{className:"signin-input-error "+(p.passwordErrorMsg?"":"hide"),text:n("key_195")})),d.a.createElement("div",{className:"signin-form-error "+(p.authError?"":"hide")},p.authError&&p.authHttpCode===O.a.BAD_REQUEST&&d.a.createElement("span",{className:"famo-text-7"},n("key_398")),p.authError&&p.authHttpCode===O.a.INTERNAL_SERVER_ERROR&&d.a.createElement("span",{className:"famo-text-7"},n("key_306"))),d.a.createElement("button",{className:"famo-button famo-confirm-button signin-button signin-button-submit",type:"submit"},d.a.createElement("span",{className:"famo-text-5"},n("key_238")))))))))})),t(642)),be=t(643);function Ee(e){var a=Object(D.a)().t,t=[{label:a("key_895"),url:"/Warehouse/Boxes/Add"},{label:a("key_897"),url:"/Warehouse/Orders"},{label:a("key_905"),url:"/Warehouse/Boxes/Transfer"},{label:a("key_891"),url:"/Warehouse/Boxes/Delete"}];return d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row",style:{justifyContent:"center"}},t.map((function(e,a){return d.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-lg-3"},d.a.createElement(X.b,{to:e.url},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-menu-item"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-19"},e.label)))))))}))))}function ve(e){var a=Object(D.a)().t,t=J(),n=Object(E.a)(t,2),o=n[0],l=n[1],m=Object(f.useState)({ref:d.a.createRef(),type:S.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),i=Object(E.a)(m,2),p=i[0],b=i[1],v=Object(f.useState)(!1),h=Object(E.a)(v,2),y=h[0],k=h[1],x=Object(f.useState)(null),j=Object(E.a)(x,2),w=j[0],g=j[1],_=Object(f.useState)([]),C=Object(E.a)(_,2),P=C[0],I=C[1],A=Object(f.useState)({ref:d.a.createRef(),type:S.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),F=Object(E.a)(A,2),R=F[0],L=F[1],G=Object(f.useState)({type:S.Text,label:a("key_179"),className:"famo-input famo-text-10",name:"orderCode",value:"",isDisabled:!0}),W=Object(E.a)(G,2),M=W[0],q=W[1],H=Object(f.useState)({type:S.Text,label:a("key_85"),className:"famo-input famo-text-10",name:"customerName",value:"",isDisabled:!0}),Q=Object(E.a)(H,2),Y=Q[0],X=Q[1],Z=Object(f.useState)({type:S.Text,label:a("key_670"),className:"famo-input famo-text-10",name:"expectedShipmentDate",value:"",isDisabled:!0}),$=Object(E.a)(Z,2),ee=$[0],ae=$[1],te=Object(f.useState)(!1),ne=Object(E.a)(te,2),ce=ne[0],re=ne[1],oe=Object(f.useState)(!1),le=Object(E.a)(oe,2),se=le[0],me=le[1],ie=[R,M,Y,ee],ue=[L,q,X,ae],fe=d.a.createRef(),de=window.moment;function pe(){k(!0),fetch(u+"Warehouse/Boxes"+s({code:p.value,languageCode:o.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){g(e),q((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.OrderCode})})),X((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.CustomerName})})),ae((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:de(e.ExpectedShipmentDate).format("L")})})),L((function(a){return Object(N.a)(Object(N.a)({},a),{},{value:e.Bin.ID.toString()})})),k(!1),Ee(e.OrderCode,e.Bin.ID.toString())}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}if(K(t),t.status!==O.a.NOT_FOUND){e.next=6;break}alert(a("key_883")),e.next=16;break;case 6:if(t.status!==O.a.FORBIDDEN){e.next=10;break}alert(a("key_871")),e.next=16;break;case 10:if(t.status!==O.a.CONFLICT){e.next=15;break}return e.next=13,t.json().then((function(e){alert(a("key_887")+" "+e.box)})).catch((function(e){z(e),alert(a("key_416"))}));case 13:e.next=16;break;case 15:alert(a("key_303"));case 16:e.next=20;break;case 18:z(t),alert(a("key_416"));case 20:g(null),re(!1),me(!1),k(!1),T.resetValues(ie,ue),be();case 26:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}function be(){b((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:""})})),p.ref.current.focus()}function Ee(e,t){re(!0),fetch(u+"Warehouse/Bins/Orders"+s({code:e,binID:t}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){me(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(K(t),alert(a("key_303"))):(z(t),alert(a("key_416")));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){re(!1)}))}return Object(f.useEffect)((function(){var e;R.value&&Ee(M.value,R.value),null===(e=fe.current)||void 0===e||e.focus()}),[R.value]),Object(f.useEffect)((function(){var e;y||(null===(e=fe.current)||void 0===e||e.focus())}),[y]),Object(f.useEffect)((function(){l.setLoadPage(!0),fetch(u+"Warehouse/Bins"+s({languageCode:o.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){I(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_303"))):(z(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)}))}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_895")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),pe()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},p.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},p,{isDisabled:y,set:b})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:y,onClick:function(e){return be()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:y,onClick:function(e){return pe()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(y||w)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_819")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!y}),w&&d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{className:"famo-grid famo-form-grid "+(y?"hide":""),noValidate:!0},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("div",{className:"famo-input-loader "+(ce?"":"hide")},d.a.createElement("div",{className:"famo-loader"})),d.a.createElement("span",{className:"famo-text-11"},R.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},R,{set:L}),P.map((function(e,a){return d.a.createElement("option",{key:a,value:e.ID},e.Code)}))),d.a.createElement("div",{className:"famo-input-message "+(se?"":"hide")},d.a.createElement("span",{className:"famo-text-15"},a("key_902"))))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},M.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,M))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},Y.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Y))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},ee.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,ee)))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(y?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",ref:fe,className:"famo-button famo-confirm-button",onClick:function(e){return k(!0),void fetch(u+"Warehouse/Bins/Boxes"+s({}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:R.value,code:w.Code}),credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=9;break}g(null),re(!1),me(!1),k(!1),T.resetValues(ie,ue),be(),e.next=10;break;case 9:throw a;case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_302"))):(z(e),alert(a("key_416"))),k(!1)}))}},d.a.createElement("span",{className:"famo-text-12"},a("key_220"))))))))))}function Ne(e){var a=Object(D.a)().t,t=J(),n=Object(E.a)(t,2),o=n[0],l=n[1],m=Object(f.useState)({ref:d.a.createRef(),type:S.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),i=Object(E.a)(m,2),p=i[0],b=i[1],v=Object(f.useState)(!1),h=Object(E.a)(v,2),y=h[0],k=h[1],x=Object(f.useState)(null),j=Object(E.a)(x,2),w=j[0],g=j[1],_=Object(f.useState)([]),C=Object(E.a)(_,2),P=C[0],I=C[1],A=Object(f.useState)({ref:d.a.createRef(),type:S.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),F=Object(E.a)(A,2),R=F[0],L=F[1],G=[R],W=[L],M=Object(f.useState)(null),q=Object(E.a)(M,2),H=q[0],Q=q[1],Y=window.moment;function X(){k(!0),fetch(u+"Warehouse/Bins/Boxes"+s({code:p.value,languageCode:o.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){g(e),k(!1),T.resetValues(G,W)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(e.status===O.a.NOT_FOUND?a("key_883"):a("key_303"))):(z(e),alert(a("key_416"))),g(null),k(!1),T.resetValues(G,W),Z()}))}function Z(){b((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:""})})),p.ref.current.focus()}return Object(f.useEffect)((function(){l.setLoadPage(!0),fetch(u+"Warehouse/Bins"+s({languageCode:o.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){I(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_303"))):(z(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)}))}),[]),Object(f.useEffect)((function(){T.areAnalyzed(G)&&(T.areValid(G)?(k(!0),fetch(u+"Warehouse/Bins/Boxes"+s(H===fe.Box?{ID:w.ID}:{}),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:R.value,orderCode:w.OrderCode}),credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=7;break}g(null),k(!1),T.resetValues(G,W),Z(),e.next=8;break;case 7:throw a;case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(e.status===O.a.CONFLICT?a("key_885"):a("key_302"))):(z(e),alert(a("key_416"))),k(!1)}))):T.popUpAlerts(G,a),T.resetValidations(G,W))}),G),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_905")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),X()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},p.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},p,{isDisabled:y,set:b})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:y,onClick:function(e){return Z()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:y,onClick:function(e){return X()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(y||w)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_312")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!y}),w&&d.a.createElement("div",{className:"famo-grid famo-form-grid "+(y?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_87"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w.Code)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_179"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w.OrderCode)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_85"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w.CustomerName)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_670"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},Y(w.ExpectedShipmentDate).format("L"))))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_893"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w.Bin.Code))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_898")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!y}),w&&d.a.createElement("form",{className:"famo-grid famo-form-grid "+(y?"hide":""),noValidate:!0},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},R.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},R,{set:L}),d.a.createElement("option",{key:-1,value:""}),P.filter((function(e){return e.ID!==w.Bin.ID})).map((function(e,a){return d.a.createElement("option",{key:a,value:e.ID},e.Code)})))))))),w&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:y,onClick:function(e){return Q(fe.Order),void T.analyze(G,W)}},d.a.createElement("span",{className:"famo-text-12"},a("key_903"))),d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:y,onClick:function(e){return Q(fe.Box),void T.analyze(G,W)}},d.a.createElement("span",{className:"famo-text-12"},a("key_904")))))))))}function he(e){var a=Object(D.a)().t,t=J(),n=Object(E.a)(t,1)[0],o=Object(f.useState)({ref:d.a.createRef(),type:S.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),l=Object(E.a)(o,2),m=l[0],i=l[1],p=Object(f.useState)(!1),b=Object(E.a)(p,2),v=b[0],h=b[1],y=Object(f.useState)(null),k=Object(E.a)(y,2),x=k[0],j=k[1],w=window.moment;function g(){h(!0),fetch(u+"Warehouse/Bins/Boxes"+s({code:m.value,languageCode:n.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){j(e),h(!1)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(e.status===O.a.NOT_FOUND?a("key_883"):a("key_303"))):(z(e),alert(a("key_416"))),j(null),h(!1),_()}))}function _(){i((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:""})})),m.ref.current.focus()}return d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_891")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),g()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},m.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},m,{isDisabled:v,set:i})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:v,onClick:function(e){return _()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!n.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:v,onClick:function(e){return g()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(v||x)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_819")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!v}),x&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid famo-form-grid "+(v?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_87"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},x.Code)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_179"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},x.OrderCode)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_85"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},x.CustomerName)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_670"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w(x.ExpectedShipmentDate).format("L"))))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_893"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},x.Bin.Code))))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(v?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){window.confirm(a("key_880"))&&(h(!0),fetch(u+"Warehouse/Bins/Boxes"+s({ID:x.ID}),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=6;break}j(null),h(!1),_(),e.next=7;break;case 6:throw a;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(a("key_302"))):(z(e),alert(a("key_416"))),h(!1)})))}},d.a.createElement("span",{className:"famo-text-12"},a("key_489"))))))))))}function ye(e){var a=Object(D.a)().t,t=J(),n=Object(E.a)(t,1)[0],o=Object(f.useState)({ref:d.a.createRef(),type:S.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),l=Object(E.a)(o,2),m=l[0],i=l[1],p=Object(f.useState)(!1),b=Object(E.a)(p,2),v=b[0],h=b[1],y=Object(f.useState)(null),k=Object(E.a)(y,2),x=k[0],j=k[1],w={standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},g={lineHeight:3.5,x:200,y:210},_=[a("key_339"),a("key_900"),a("key_892")],C=Object(f.useState)([]),P=Object(E.a)(C,2),T=P[0],I=P[1],A=window.moment,F=window.numeral;function R(){h(!0),fetch(u+"ERP/Boxes"+s({code:m.value}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){j(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),e.status===O.a.NOT_FOUND?alert(a("key_883")):e.status===O.a.FORBIDDEN?alert(a("key_871")):alert(a("key_303"))):(z(e),alert(a("key_416"))),j(null),I([]),h(!1),L()}))}function L(){i((function(e){return Object(N.a)(Object(N.a)({},e),{},{value:""})})),m.ref.current.focus()}return Object(f.useEffect)((function(){x&&fetch(u+"Warehouse/Bins/Boxes"+s({orderCode:x.OrderCode,languageCode:n.authUser.Language.Code}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){I(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(K(e),alert(e.status===O.a.NOT_FOUND?a("key_884"):a("key_303"))):(z(e),alert(a("key_416")))})).finally((function(){h(!1)}))}),[x]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_897")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),R()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},m.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(B,Object.assign({},m,{isDisabled:v,set:i})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:v,onClick:function(e){return L()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!n.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:v,onClick:function(e){return R()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(v||x)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(V,{text:a("key_179")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!v}),x&&d.a.createElement("div",{className:"famo-grid famo-form-grid "+(v?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_179"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},x.OrderCode)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_85"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},x.CustomerName)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_670"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},A(x.ExpectedShipmentDate).format("L")))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!v}),x&&d.a.createElement("div",{className:"container warehouse-charts "+(v?"hide":"")},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-lg-4"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},a("key_889")))),d.a.createElement("div",{className:"victory-container"},d.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},d.a.createElement(pe.a,Object.assign({},w,{data:[{x:!0,y:T.filter((function(e){return!e.IsPrinted})).length},{x:!1,y:T.filter((function(e){return e.IsPrinted})).length}],colorScale:["#ff3333","#bfbfbf"],labels:function(){return null}})),d.a.createElement(be.a,Object.assign({},g,{textAnchor:"middle",verticalAnchor:"middle",text:[F(T.filter((function(e){return!e.IsPrinted})).length/T.length).format("0.00%"),F(T.filter((function(e){return!e.IsPrinted})).length).format("0,0")+"/"+F(T.length).format("0,0")],style:[{fill:"#ff3333"}]}))))),d.a.createElement("div",{className:"col-12 col-lg-4"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},a("key_886")))),d.a.createElement("div",{className:"victory-container"},d.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},d.a.createElement(pe.a,Object.assign({},w,{data:[{x:!0,y:T.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length},{x:!1,y:T.filter((function(e){return!(e.IsPrinted&&-1===e.Bin.ID)})).length}],colorScale:["#3333ff","#bfbfbf"],labels:function(){return null}})),d.a.createElement(be.a,Object.assign({},g,{textAnchor:"middle",verticalAnchor:"middle",text:[F(T.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length/T.length).format("0.00%"),F(T.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length).format("0,0")+"/"+F(T.length).format("0,0")],style:[{fill:"#3333ff"}]}))))),d.a.createElement("div",{className:"col-12 col-lg-4"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},a("key_888")))),d.a.createElement("div",{className:"victory-container"},d.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},d.a.createElement(pe.a,Object.assign({},w,{data:[{x:!0,y:T.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length},{x:!1,y:T.filter((function(e){return!(e.IsPrinted&&-1!==e.Bin.ID)})).length}],colorScale:["#33ff33","#bfbfbf"],labels:function(){return null}})),d.a.createElement(be.a,Object.assign({},g,{textAnchor:"middle",verticalAnchor:"middle",text:[F(T.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length/T.length).format("0.00%"),F(T.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length).format("0,0")+"/"+F(T.length).format("0,0")],style:[{fill:"#33ff33"}]}))))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement(U,{hide:!v}),x&&d.a.createElement("div",{className:"famo-grid famo-content-grid warehouse-boxes "+(v?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},_.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),Object.entries(T.sort((function(e,a){return e.ProductCode>a.ProductCode?1:-1})).reduce((function(e,a){return e[a.ProductCode]=e[a.ProductCode]||[],e[a.ProductCode].push(a),e}),{})).map((function(e){var a=Object(E.a)(e,2),t=a[0],n=a[1];return Object.entries(n.sort((function(e,a){return e.Bin.Code>a.Bin.Code?-1:1})).reduce((function(e,a){return e[a.Bin.Code]=e[a.Bin.Code]||[],e[a.Bin.Code].push(a),e}),{})).map((function(e,a){var c=Object(E.a)(e,2),r=c[0],o=c[1];return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},t)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10"},F(o.length).format("0,0"),"/",F(n.length).format("0,0"))),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10 "+("null"===r?"famo-color-yellow":"")},"null"===r?"n/a":r)))}))})))))))}!function(e){e[e.Box=1]="Box",e[e.Order=2]="Order"}(fe||(fe={}));var ke=Object(G.j)((function(e){return d.a.createElement(G.e,null,d.a.createElement(G.c,{exact:!0,path:"/Warehouse",render:function(e){return d.a.createElement(Ee,e)}}),d.a.createElement(G.c,{exact:!0,path:"/Warehouse/Boxes/Add",render:function(e){return d.a.createElement(ve,e)}}),d.a.createElement(G.c,{exact:!0,path:"/Warehouse/Boxes/Transfer",render:function(e){return d.a.createElement(Ne,e)}}),d.a.createElement(G.c,{exact:!0,path:"/Warehouse/Boxes/Delete",render:function(e){return d.a.createElement(he,e)}}),d.a.createElement(G.c,{exact:!0,path:"/Warehouse/Orders",render:function(e){return d.a.createElement(ye,e)}}),d.a.createElement(G.c,{path:"/Warehouse/*",render:function(){return d.a.createElement(G.b,{to:"/Warehouse"})}}))})),xe=t(194);function Oe(e){var a=Object(G.h)(),t=Object(G.i)(),n=Object(D.a)().t,o=J(),l=Object(E.a)(o,2),i=l[0],p=l[1],b=Object(f.useState)(!0),v=Object(E.a)(b,2),N=v[0],h=v[1],y=Object(f.useState)(!1),k=Object(E.a)(y,2),x=k[0],j=k[1],w=-1,g=null;return Object(f.useEffect)((function(){h(!0),fetch(u+"Authentication/Session/User"+s({}),{method:"GET",credentials:"include"}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==O.a.OK){e.next=5;break}return e.next=3,a.json().then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(a,p,n);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(p,n);case 2:a?K(a):z(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){h(!1)}))}),[]),Object(f.useEffect)((function(){j("/"!==t.pathname)}),[t.pathname]),d.a.createElement(d.a.Fragment,null,!N&&d.a.createElement(xe.a,{trackMouse:!0,trackTouch:!1,onSwiping:function(e){return function(e){m()||"Up"!==e.dir&&"Down"!==e.dir||(-1===w&&(g=e.event.path.some((function(e){var a=e.className;return!!a&&-1!==a.indexOf("famo-modal")}))?document.querySelector(".famo-modal"):document.querySelector("body"),w=g.scrollTop),g.scrollTop=w+e.deltaY)}(e)},onSwiped:function(e){return g=null,void(w=-1)}},d.a.createElement("section",{className:"famo-body"},d.a.createElement(G.e,null,d.a.createElement(G.c,{exact:!0,path:"/",render:function(){return d.a.createElement(Z,null)}}),d.a.createElement(G.c,{path:"/Warehouse",render:function(){return d.a.createElement(ke,null)}}),d.a.createElement(G.c,{path:"/Expedition",render:function(){return d.a.createElement(Y,null)}}),d.a.createElement(G.c,{path:"/Pallet",render:function(){return d.a.createElement(ne,null)}}),d.a.createElement(G.c,{path:"/Inventory",render:function(){return d.a.createElement(ee,null)}})),!i.androidApp&&x&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button pda-back-button "+(i.loadPage?"hide":""),onClick:function(e){return a.goBack()}},d.a.createElement("span",{className:"fas fa-arrow-left"})))),d.a.createElement(L,{hide:!N&&!i.loadPage}))}var je=function(e){return d.a.createElement(X.a,{basename:"/"},d.a.createElement(Oe,e))};function we(){return ge.apply(this,arguments)}function ge(){return(ge=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{document.getElementById("pda-footer").innerText=(new Date).getFullYear()+" \xa9 FAMO - PDA",b.a.render(d.a.createElement(f.Suspense,{fallback:d.a.createElement(L,{hide:!1})},d.a.createElement(je,null)),document.getElementById("root"))}catch(a){alert("Ouch!! Restart app!")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.cordova?document.addEventListener("deviceready",we,!1):we()}},[[310,1,2]]]);